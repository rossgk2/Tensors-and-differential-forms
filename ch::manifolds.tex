\chapter{Manifolds}
\label{ch::manifolds}

This chapter follows various parts of \cite{book::SM} and sets the stage for differential forms. Differential forms will live on and be integrated over \textit{smooth manifolds}, which can be thought of as ``multidimensional surfaces''. We begin the chapter by working simply with \textit{manifolds}, then introduce the notions of \textit{boundary} and \textit{corners} on a manifold.

We will discuss the \textit{tangent space} at a point on a manifold, and use the machinery of \textit{tangent vectors} to set up a coordinate-free method of differentiation on smooth manifolds, called the \textit{differential}. In Theorems \ref{ch::manifolds::thm::induced_bases_in_a_chart} and \ref{ch::manifolds::thm::coords_tangent_vectors_cotangent_vectors}, we see a duality between coordiantes of tangent vectors and \textit{tangent covectors} that is reminiscent of the duality between coordinates of vectors and covectors. Lastly, we discuss orientations of manifolds in preparation for the integration of the next chapter.
\section{Introduction to manifolds}

\begin{defn}
    \label{ch::manifolds::defn::manifold}
    
    \smallcite{book::SM}{2} (Manifold). 
    
    An \textit{$n$-manifold} is a topological space $M$ that is...
    
    \begin{itemize}
        \item Hausdorff, or ``point-separable''.
        \item \textit{second-countable}; that is, $M$ has a countable basis.
        \item \textit{locally Euclidean of dimension $n$} in the sense that each point in $M$ has a neighborhood that is homeomorphic to $\R^n$ (where $\R^n$ has the standard topology).
    \end{itemize}
\end{defn}

\begin{theorem}
    \smallcite{book::SM}{3} (Topological invariance of dimension).
    
    A nonempty $n$-manifold is homeomorphic to an $m$-dimensional manifold if and only if $n = m$. (See \cite{book::SM} for proof).
\end{theorem}

\begin{defn}
    \smallcite{book::SM}{25} (Closed $n$-dimensional upper half-space). 
    
    Consider $\R^n$ with the standard topology. We define the \textit{closed $n$-dimensional half space} to be the topology
    
    \begin{align*}
        \H^n := \{ (x^1, ..., x^n) \in \R^n \mid x^n \geq 0 \},
    \end{align*}
    
    where $\H^n$ has the subspace topology inherited from the standard topology of $\R^n$.
    
    The point of defining $\H^n$ is to allow for a distinction between what will be called \textit{interior points of $M$} and \textit{boundary points of $M$}. To see how involving $\H^n$ facilitates this, note that the interior $\iint(\H^n)$ and boundary $\pd \H^n$ of $\H^n$, in the usual topological senses of ``interior'' and ``boundary'' (see Section \ref{ch::topology::section::int_cl_bdy} of Chapter \ref{ch::topology}), are
    
    \begin{align*}
        \iint(\H^n) &= \{(x^1, ..., x^n) \in \R^n \mid x^n > 0\} \\
        \pd \H^n &= \{(x^1, ..., 0) \in \R^n \}.
    \end{align*}
    
    Recall from Section \ref{ch::topology::section::int_cl_bdy} of Chapter \ref{ch::topology} that $\pp \in \H^n$ is an \textit{interior point of $\H^n$} iff $\pp \in \iint(\H^n)$, and $\pp \in \H^n$ is a \textit{boundary point of $\H^n$} iff $\pp \in \pd H^n$.
\end{defn}

Now let $M$ be a manifold, and suppose that for some open subset $U \subseteq M$ containing a point $\pp \in U$, there is a homeomorphism $\xx:U \subseteq M \rightarrow \R^n$, where $\xx(\pp) = (x^1(\pp), ..., x^{n - 1}(\pp), 0)$ is in $\pd \H^n$. Then, in analogy to the notion of ``locally Eulidean'' introduced in the definition of a manifold, we can say that the open subset $U \subseteq M$ ``looks like a piece of the boundary of $\H^n$'', or that ``$M$ locally (near $\pp$) looks like a piece of the boundary of $\H^n$''. This motivates the following definition.

\begin{defn}
    \smallcite{book::SM}{25} (Manifold with boundary). 
    
    An \textit{$n$-manifold with boundary} is a topological space $M$ that is...
    
    \begin{itemize}
        \item Hausdorff, or ``point-separable''.
        \item \textit{second-countable}; that is, $M$ has a countable basis.
        \item \textit{locally Euclidean of dimension $n$} in the sense that each point in $M$ has a neighborhood that is homeomorphic to $\R^n$ (where $\R^n$ has the standard topology).
        \item such that ``$M$ has a (possibly empty) manifold boundary''. That is, each point of $M$ has a neighborhood that is either homeomorphic to an open subset of $\R^n$ (where $\R^n$ has the standard topology) or to an open subset $\H^n$ with the subspace topology (inherited from the standard topology on $\R^n$).
    \end{itemize}
\end{defn}

\begin{remark}
    \smallcite{book::SM}{26} (Topological interior and boundary vs. manifold interior and boundary).
        
    Let $M$ be an $n$-manifold with boundary. We can obtain the \textit{topological} interior and \textit{topological} boundary of $M$ by regarding $M$ as a topological space and taking $\iint(M), \pd M$ in the usual topological senses of interior and boundary (see Section \ref{ch::topology::section::int_cl_bdy} of Chapter \ref{ch::topology}). In general, the topological interior and topological boundary are \textit{not} the same as the manifold interior and manifold boundary.
        
    To see this, we first need to remember that the topological notions of interior and boundary are only applicable when $M$ is a subset of some other topological space $X$.  For example, when $X = M$, the topological interior of $M$ in the subspace topology of $X = M$ is $M$, and the topological boundary of $M$ in the same subspace topology is $\cl(M) - \iint(M) = M - M = \emptyset$. ($\iint$ and $\cl$ denote topological interior and closure here). These facts conflict with the manifold interior and boundary of $M$: the manifold interior cannot be all of $M$ when the manifold boundary of $M$ is nonempty, and the manifold boundary is obviously not necessarily empty.
        
    %\begin{itemize}
        %\item 
        
        %\item When $X = \R^m$, then because $M \subseteq X$, we have $M = \R^n$ where $n \leq m$. When $n = m$, then the topological and manifold notions of interior and boundary are equivalent, but when $n < m$, the topological interior \textbf{is always empty?}.
    %\end{itemize}
        
    %``So for Hn as a subspace of Rn, there it is true that the topological boundary is the manifold boundary. And that's the model for all manifolds with boundary. But because of global topology, it is often not possible for those local Hns to live in a global ambient Rn, and without that we no longer have topological boundary = manifold boundary. (Consider a cylinder IxS1, it's not a subspace of R2)''
\end{remark}

\begin{defn}
    \smallcite{book::SM}{25} (Manifold interior and boundary).
    
    The \textit{(manifold) interior of $M$} is the set of interior points in $M$, and is denoted $\iint(M)$. The \textit{(manifold) boundary of $M$} is set of all boundary points in $M$, and is denoted $\pd M$.
\end{defn}

\newpage

\section{Coordinatizing manifolds}

\begin{defn}
\label{ch::manifolds::defn::chart}
    \smallcite{book::SM}{4} (Chart). 
    
    Let $M$ be an $n$-manifold. A \textit{(coordinate) chart} on $M$ is a pair $(U, \xx)$, where $\xx:U \rightarrow V \subseteq \R^n$ is a function from an open subset $U \subseteq M$, which is called the \textit{domain} of the chart, to an open subset $V \subseteq \R^n$. Since $\xx(\pp) = \begin{pmatrix} x^1(\pp) \\ \vdots \\ x^n(\pp) \end{pmatrix}$, we often refer to the component functions $\{x^i\}_{i = 1}^n$ as \textit{(local) coordinates}. The component functions are local in the sense that their domain is $U$, rather than all of $M$.
    
    A coordinate chart $(U, \xx)$ is said to be \textit{about $\pp \in M$} iff $\pp \in U$.
\end{defn}

\begin{defn}
    \smallcite{book::SM}{13} (Atlas).
    
    Let $M$ be an $n$-manifold with or without corners. An \textit{atlas} for $M$ is a collection of charts $\{(U_\alpha, \xx_\alpha)\}$ whose domains cover $M$, $M = \cup_\alpha U_\alpha$.
\end{defn}

\begin{defn}
\label{ch::manifolds::defn::coord_representation_of_fn_on_manifold}
    \smallcite{book::SM}{33} (Coordinate representations of functions on manifolds).

    Let $M$ and $N$ be manifolds, and consider a function $\FF:M \rightarrow N$. Let $(U, \xx)$ be a chart on $M$ about $\pp \in M$ and let $(V, \yy)$ be a chart on $N$ about $\FF(\pp) \in N$. The \textit{coordinate representation of $\FF:U \subseteq M \rightarrow V \subseteq N$ relative to the charts $(U, \xx)$ and $(V, \yy)$} is the function $\tFF_{(U, \xx), (V, \yy)} = \yy \circ \FF \circ \xx^{-1}:\R^n \rightarrow \R^m$.
    
    In the case that $M$ or $N$ is $\R^k$, we do not require a chart on whichever manifold is $\R^k$, and the coordinate representation of $\FF$ is said to be ``relative'' to only a single chart. In these cases, we the coordinate representation is either $\tFF_{(U, \xx)} = \FF \circ \xx^{-1}:\R^k \rightarrow N$ or $\tFF_{(V, \yy)} = \yy \circ \FF:M \rightarrow \R^k$.
\end{defn}

\newpage

\section{Smooth manifolds}

\begin{defn}
    \smallcite{book::SM}{11} (Differentiability classes, smooth functions, and diffeomorphisms).

    A function $f:\R^n \rightarrow \R$ is said to be of \textit{differentiability class $C^k$} iff $f$'s partial derivatives of orders $0, 1, ..., k$ are all continuous. In particular, $C^0$ functions are real-valued continuous functions on $M$, and $C^1$ functions are real-valued continuous functions on $M$ whose first partial derivatives are also continuous. A function $f:M \rightarrow \R$ has \textit{differentiability class $C^\infty$} iff $f \in C^k(M)$ for all $k \in \{0, 1, ...\}$.
    
    A function $\FF:\R^n \rightarrow \R^k$ is said to be of \textit{differentiability class $C^k$} iff each component function $F^i$ of $\FF$ is of differentiability class $C^k$, in the previous sense of $C^k$ for functions $\R^n \rightarrow \R$. Similarly, a function $\FF:\R^n \rightarrow \R^m$ is said to be of \textit{differentiability class $C^\infty$} iff each component function $F^i$ of $\FF$ is of differentiability class $C^\infty$, in the previous sense of $C^\infty$ for functions $\R^n \rightarrow \R$.
    
    We define $C^k(\R^n \rightarrow \R^k)$ to be the set of functions $\R^n \rightarrow \R^k$ that are of differentiability class $C^k$, and define $C^\infty(\R^n \rightarrow \R^k)$ to be the set of functions $\R^n \rightarrow \R^k$ that are of differentiability class $C^\infty$. We will use the word ``smooth'' to mean $C^\infty$. Following this convention, the set ${C^\infty(\R^n \rightarrow \R)}$ is called the set of \textit{smooth real-valued functions on $\R^n$}.
    
    Lastly, we say that a function $\R^n \rightarrow \R$ is a \textit{diffeomorphism} iff it is smooth, bijective, and has a smooth inverse. Note that every diffeomorphism is a topological homeomorphism.
\end{defn}

\subsection*{Smooth manifolds with or without boundary}

\begin{deriv}
    \smallcite{book::SM}{27, 28} (Smooth manifold with or without boundary).
    
    Let $M$ be an $n$-manifold with or without boundary. We say that a function $\FF:M \rightarrow \R^k$ is \textit{smooth relative to a chart $(U, \xx)$} of $M$ iff the coordinate representation $\tFF_{(U, \xx)} = \FF \circ \xx^{-1}:\xx(U) \subseteq \R^n \rightarrow \R^k$ is a smooth function.
    
    Consider two charts $(U, \xx)$ and $(V, \yy)$. If $U \cap V \neq \emptyset$, then the \textit{transition map} $\yy \circ \xx^{-1}:\xx(U \cap V) \rightarrow \yy(U \cap V)$ is a homeomorphism. We would like to define a notion of \textit{smooth} so that if $M$ is a \textit{smooth manifold with or without boundary}, then
    
    \begin{align*}
        \text{$\FF:M \rightarrow \R^k$ is smooth } &\text{relative to some chart $(U, \xx)$} \\
        &\implies \\
        \text{$\FF$ is smooth relative to all } &\text{other charts $(V, \yy)$ that overlap $(U, \xx)$, $U \cap V \neq \emptyset$}.
    \end{align*}
    
    In our present situation, this is not the case. If $(U, \xx)$ and $(V, \yy)$ intersect, $U \cap V \neq \emptyset$, it is still possible for $\FF$ to be smooth relative to $(U, \xx)$ but not relative to $(V, \yy)$. To see why, express $\tFF_{(U, \xx)}$ as $\tFF_{(U, \xx)} = \tFF_{(V, \yy)} \circ (\yy \circ \xx^{-1})$. If $\tFF_{(V, \yy)}$ is smooth, then $\tFF_{(U, \xx)}$ is not guaranteed to be smooth, since composing with a homeomorphism (such as $\yy$ or $\xx^{-1}$) does not preserve smoothness.
    
    Since smoothness \textit{is} preserved by composing with a diffeomorphism, we define two charts to be \textit{smoothly compatible} iff the transition map between them is a diffeomorphism, and define a \textit{smooth atlas} for $M$ to be one in which any two charts are smoothly compatible\footnote{Note, the empty function is a diffeomorphism, so this definition covers the case in which $U \cap V = \emptyset$ and the transition map is the empty function.}. A chart that is an element of a smooth atlas is called a \textit{smooth chart}.
    
    %As is noted in \cite{book::SM}, there are in general ``many possible atlases that give the `same' smooth structure, in that they all determine the same collection of smooth functions on $M$''. So that we can deal with a concrete choice of atlas, we use the maximal smooth atlas: the union of all smooth atlases. No generality is lost when we take our atlas on $M$ to be the maximal one, since all other atlases are contained in the maximal atlas.
\end{deriv}

\begin{defn}
    (Smooth manifold with or without boundary)
    
    A manifold is called a \textit{smooth manifold with or without boundary} iff every atlas of that manifold is a smooth atlas.
\end{defn}

\begin{defn}
    (Smooth functions on manifolds).
    
    Let $M$ be an $n$-manifold and let $(U, \xx)$ be a chart on $M$. A function $\FF:U \subseteq M \rightarrow \R^n$ is said to be of \textit{differentiability class $C^k$ on $U$} iff the coordinate representation $\tFF_{(U, \xx)} = \FF \circ \xx^{-1}:\R^n \rightarrow \R$ is of differentiability class $C^k$, and is said to be of \textit{differentiability class $C^\infty$ on $U$}, or to be \textit{smooth on $U$}, iff the coordinate representation $\tFF_{(U, \xx)} = \FF \circ \xx^{-1}:\R^n \rightarrow \R$ is of differentiability class $C^\infty$. The sets of functions on $U$ of differentiability class $C^k$ and $C^\infty$ are denoted $C^k(U \rightarrow \R^n)$ and $C^\infty(U \rightarrow \R^n)$, respectively.
\end{defn}

\begin{example}
    \smallcite{book::SM}{20} Graphs of smooth functions into $\R^k$ are smooth manifolds.
    
    %From Lee: ``Suppose that $U \subseteq \R^n$ is an open subset and that $\FF:U \rightarrow \R^k$ is a smooth function. We have already seen in [...] that the graph of $\FF$ is a topological $n$-manifold in the subspace topology. Since $\text{graph}(\FF)$ is covered by the single graph coordinate chart $\xx:\text{graph}(\FF) \rightarrow U$ (the restriction of $\ppi_1$), we can put a canonical smooth structure on $\text{graph}(\FF)$ by declaring the graph coordinate chart $(\text{graph}(\FF), \xx$) to be a smooth chart''.
\end{example}


%\begin{example}
%    \smallcite{book::SM}{5} (Graphs of continuous functions into $\R^k$ are manifolds).
    
%     Let $U \subseteq \R^n$ be open. The \textit{graph} of a function $f:U \rightarrow \R^k$ is the subset $\text{graph}(f) := U \times f(U)$ of $\R^n \times \R^k$. The graph of a continuous function is a manifold. (See \cite{book::SM} for proof).
%\end{example}

%\begin{example}
%    \smallcite{book::SM}{20}
    
%    Level sets are also smooth manifolds.
%\end{example}

\subsection*{Manifolds with or without boundary or corners}

\begin{defn}
    \smallcite{book::SM}{415} (Manifold with or without boundary or corners).
        
    Just as we used $\H^n$ to construct a notion of ``manifold boundary'', we will use the topological closure of $\H^n$ to construct a notion of ``corners on a manifold''. Observe that the closure of $\H^n$ is
        
    \begin{align*}
        \cl(\H^n) = \{(x^1, ..., x^n) \in \R^n \mid x^i \geq 0 \text{ for all $i$} \}.
    \end{align*}
    
    We say that a topological space $M$ is a \textit{manifold with or without boundary or corners} iff it is
    
    \begin{itemize}
        \item Hausdorff, or ``point-separable''
        \item \textit{second-countable}; that is, $M$ has a countable basis
        \item \textit{locally Euclidean of dimension $n$} in the sense that each point in $M$ has a neighborhood that is homeomorphic to $\R^n$ (where $\R^n$ has the standard topology)
        \item such that ``$M$ has a (possibly empty) manifold boundary and $M$ has (possibly no) corners''. That is, each point of $M$ has a neighborhood that is either homeomorphic to an open subset of $\R^n$ (where $\R^n$ has the standard topology), to an open subset $\H^n$ with the subspace topology (inherited from the standard topology on $\R^n$), or to an open subset of $\cl(\H^n)$ with the subspace topology (inherited from the standard topology on $\R^n$, and where $\cl$ denotes topological closure).
    \end{itemize}
\end{defn}

\begin{remark}
    \smallcite{book::SM}{27} (Empty boundary and no corners).
    
    Every smooth manifold is a smooth manifold with boundary, where the manifold boundary is empty. Every smooth manifold with boundary is a smooth manifold with corners, where the set of corner points is empty.
\end{remark}

\begin{theorem}
    \smallcite{book::SM}{26} \smallcite{book::SM}{416} (Topological invariance of interior, boundary, and corner points).
        
    If $\pp \in M$ is an interior, boundary, or corner point in some chart, then it is an interior, boundary, or corner point, respectively, in all charts. Furthermore, every interior point is neither a boundary point nor a corner point. (See \cite{book::SM} for the proofs).
\end{theorem}

\begin{defn}
    \smallcite{book::SM}{4} \smallcite{book::SM}{415} (Classification of charts and points).
    
    We classify a chart $(U, \xx)$ on $M$ as follows. $(U, \xx)$ is a/an...
    
    \begin{itemize}
        \item \textit{Interior chart} iff $\xx(U)$ is an open subset of $\R^n$.
        \item \textit{Boundary chart} iff $\xx(U)$ contains a boundary point of $\H^n$, i.e., iff $\xx(U)$ is an open subset of $\H^n$ that intersects the boundary of $\H^n$, $\xx(U) \cap \pd \H^n \neq \emptyset$.
        \item \textit{Chart with corners} iff $\xx(U)$ contains a \textit{corner point of $\cl(\H^n)$}; a point $\pp \in \cl(\H^n)$ is a \textit{corner point of $\cl(\H^n)$} iff more than one of the coordinate functions $x^i|_\pp$ evaluated at $\pp$ vanish.
    \end{itemize}
    
    We classify a point $\pp \in M$ according to the type of chart it lies in. $\pp \in M$ is a/an...
    
    \begin{itemize}
        \item \textit{Interior point} iff there is an interior chart about $\pp$.
        \item \textit{Boundary point} iff there is a boundary chart about $\pp$.
        \item \textit{Corner point} iff there is a chart with corners about $\pp$.
    \end{itemize}
\end{defn}

\begin{remark}
    \smallcite{book::SM}{415} (Manifolds with corners are \textit{topologically} the same as manifolds with boundary).
    
    The title of this remark is true because $\cl(\H^n)$ is homeomorphic to $\H^n$. \textit{Smooth} manifolds with corners are different than \textit{smooth} manifolds with boundary because the ``smoothly compatible'' criterion for charts with corners is different from the analagous criterion for boundary charts.
\end{remark}

\newpage

\section{Tangent vectors}

In multivariable calculus, one can consider tangent vectors that reside in the tangent plane to a surface. We will present a coordinate-free generalization of this concept for manifolds. Surprisingly, we will see that tangent vectors anchored at a point can be identified with ``directional derivative functions'' at that point.

\subsection*{Tangent vectors in $\R^n$}

To start, we formalize the notion of what it means to consider a vector that is anchored at a point.

\begin{defn}
    \smallcite{book::SM}{51} (Vectors ``anchored'' at a point).
    
    Let $M$ be a $n$-manifold. Given $\pp \in M$, we define $\R^n_\pp$ to be the vector space $\R^n \times \{\pp\}$. We use the notation $\vv_\pp := (\vv, \pp)$ to denote a typical element of $\R^n_\pp$. Elements of $\R^n_\pp$ are often called ``geometric tangent vectors''.
\end{defn}

With the previous notion formalized, we now discover, strangely enough, that geometric tangent vectors can be identified with ``directional derivative functions''.

\begin{theorem}
    \label{ch::manifolds::thm::geometric_tangent_vectors_iso_directional_derivative_functions}
    (Geometric tangent vectors are naturally isomorphic to ``directional derivative functions'').
    
     Let $\vv_\pp \in \R^n$, and let $\frac{\pd}{\pd \vv}\Big|_\pp$ denote the so-called \textit{directional derivative function} $C^\infty(\R^n \rightarrow \R) \rightarrow \R$ that sends $f \mapsto \frac{\pd}{\pd \vv}\Big|_\pp (f)$. For each $\pp \in \R^n$, the directional derivative function $\frac{\pd}{\pd \vv}\Big|_\pp$ is a natural linear isomorphism between $\R^n_\pp$ and the vector space of directional derivative functions at $\pp \in \R^n$. That is, for each $\pp \in \R^n$ we have

     \begin{align*}
         \R^n_\pp \cong \{\text{directional derivative functions at $\pp$}\} = \Big\{ \frac{\pd}{\pd \vv}\Big|_\pp \mid \vv \in \R^n \Big\}.
     \end{align*}
\end{theorem}

\begin{proof}
    First, recall from calculus that $\frac{\pd}{\pd \vv}\Big|_\pp$ is linear with respect to $\vv$ (see Remark \ref{ch::calc::rmk::directional_deriv_linear_wrt_v}). From this it follows that $\Big\{ \frac{\pd}{\pd \see_1}\Big|_\pp, ..., \frac{\pd}{\pd \see_n}\Big|_\pp \Big\}$ is a basis for $\Big\{ \frac{\pd}{\pd \vv}\Big|_\pp \mid \vv \in \R^n \Big\}$, the space of directional derivative functions at $\pp$. Thus, the vector space of directional derivative functions at $\pp$ is $n$-dimensional. Since $\R^n_\pp$ and the space of directional derivative functions at $\pp$ have the same dimension, we can show that $\vv_\pp \mapsto \frac{\pd}{\pd \vv}\Big|_\pp$ is an isomorphism by proving that it has a trivial kernel\footnote{We adapt the argument from \cite[p. 53]{book::SM} (which is intended for a slightly different purpose in that book).}.
    
    So, assume $\vv_\pp$ is sent to the zero function. We need to show that this implies $\vv_\pp = \mathbf{0}_\pp$. 
        
    At $\pp \in \R^n$, the $i$th coordinate of the zero function is $\frac{\pd}{\pd \vv}\Big|_\pp (x^i)$, where $x^i:\R^n \rightarrow \R$ denotes the $i$th coordinate function\footnote{You might notice that the $i$th coordinate function on $\R^n$ is also $\phi^{\see_i}$! As there is no need to emphasize dual spaces here, we opt for the $x^i$ notation because it is simpler.} on $\R^n$. All coordinates of the zero function relative to any basis must be zero, so, using the linearity of the directional derivative with respect to $\vv_\pp$ (again, see Remark \ref{ch::calc::rmk::directional_deriv_linear_wrt_v}), we have
    
    \begin{align*}
        0 
        = \frac{\pd}{\pd \vv}\Big|_\pp (x^i) 
        = \frac{\pd}{\pd (\sum_j [\vv]_E^j \see^j)}\Big|_\pp (x^i) 
        = \sum_j [\vv]_E^j \Big( \frac{\pd}{\pd \see^j}\Big|_\pp \Big) (x^i)
        = \sum_j [\vv]_E^j \delta^i{}_j 
        = [\vv]_E^i.
    \end{align*}
    
    We see $[\vv]_E^i = 0$ for all $i$, so $\vv = \mathbf{0}$, which means $\vv_\pp = \mathbf{0}_\pp$.
\end{proof}

\begin{comment}
    \begin{theorem}
        (Basis for $T_\pp(\R^n)$). For any $\pp \in \R^n$, the derivations $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n$ at $\pp \in \R^n$, where $\Big( \frac{\pd}{\pd x^i}\Big) \Big|_\pp (f) = \frac{\pd f}{\pd x^i}\Big|_\pp$, are a basis for $T_\pp(\R^n)$.
    \end{theorem}
\end{comment}

Now, we investigate the vector space of ``directional derivative functions'' at a $\pp \in \R^n$. While such directional derivative functions can be specified concretely by specifying the vector $\vv \in \R^n$ involved in the expression $\frac{\pd}{\pd \vv}\Big|_\pp$, we will find that they can also be described in a coordinate-independent manner, without mention of some $\vv \in \R^n$. 

Specifically, one can quickly check that if a function satisfies the below condition of being a \textit{derivation}, then it is a directional derivative function. 

\begin{defn}
    \smallcite{book::SM}{52} (Derivation at $\pp \in \R^n$).
    
    A \textit{derivation at $\pp \in \R^n$} is a linear function $v_\pp:C^\infty(\R^n \rightarrow \R) \rightarrow \R$ which satisfies a resemblance of the product rule,
    
    \begin{align*}
        v_\pp(fg) &= v_\pp(f)g(\pp) + f(\pp)v_\pp(g) \text{ for all $f, g \in C^\infty(\R^n \rightarrow \R)$}.
    \end{align*}
\end{defn}

It is relatively quick to check that every ``directional derivative function'' is a derivation. In the next theorem, we additionally show that every derivation is a directional derivative function. First, though, we need the following lemma.

\begin{lemma}
\label{ch::manifolds::lemma::properties_of_derivations_Rn}
    \smallcite{book::SM}{53} (Properties of derivations at $\pp \in \R^n$). 
    
    Consider $\pp \in \R^n$ and let $v_\pp$ be a derivation at $\pp$. For any $f, g \in C^\infty(\R^n \rightarrow \R)$, we have the following:
    
    \begin{enumerate}
        \item If $f$ is a constant function, then $v_\pp(f) = 0$.
        \item If $f(\pp) = g(\pp) = 0$, then $v_\pp(fg) = 0$.
    \end{enumerate}
\end{lemma}

\begin{proof}
    \mbox{} \\
    \begin{enumerate}
        \item Set $f_1 \equiv 1$ and use the product rule with $f_1 \cdot f_1 = f_1$ to show $v_\pp(f_1) = 0$. Any other constant function $f_c \equiv c$ is of the form $f_c = cf_1$, so $v_\pp(f_c) = v_\pp(cf_1) = cv_\pp(f_1) = 0$ by linearity.
        \item Use the product rule.
    \end{enumerate}
\end{proof}

\begin{theorem}
\label{ch::manifolds::thm::directional_derivs_same_as_derivs}
    (Every directional derivative function is a derivation, and every derivation is a directional derivative function).
    
    The set of directional derivative functions at $\pp \in \R^n$ is equal to the set of derivations at $\pp$:
    
    \begin{align*}
        \Big\{\frac{\pd}{\pd \vv}\Big|_\pp \mid \vv \in \R^n\Big\}
        =
        \{\text{derivations at $\pp \in \R^n$}\}.
    \end{align*}
\end{theorem}

\begin{proof}
   \mbox{}
   \\ \indent ($\subseteq$). Showing that every directional derivative function at $\pp \in \R^n$ is a derivation at $\pp$ follows straightforwardly from the definition of ``derivation at $\pp \in \R^n$''.
    
    ($\supseteq$). This direction of the proof is adapted from \cite[p. 53]{book::SM}. Let $\pp \in \R^n$ and let $v_\pp:C^\infty(\R^n \rightarrow \R) \rightarrow \R$ be a derivation. We must show that $v_\pp$ is a directional derivative function at $\pp$; we must find a vector $\vv_\pp \in \R^n_\pp$ for which $v_\pp = \frac{\pd}{\pd \vv}\Big|_\pp$. So, we will find a $\vv_\pp \in \R^n_\pp$ for which 
    
    \begin{align*}
        v_\pp(f) = \Big(\frac{\pd}{\pd \vv}\Big|_\pp\Big)(f) \text{ for all $f \in C^\infty(\R^n \rightarrow \R)$.}
    \end{align*}
    
    We use Taylor's theorem (see \cite[p. 53]{book::SM}) to write $f \in C^\infty(\R^n \rightarrow \R)$ as
    
    \begin{align*}
        f(\xx) = f(\pp) 
        + \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp (x^i - p^i)
        + \sum_{i, j = 1}^n (x^i - p^i) (x^j - p^j) \int_0^1 (1 - t) \frac{\pd^2 f}{\pd x^i \pd x^j}\Big|_{\pp + t(\xx - \pp)} dt,
    \end{align*}
    
    where $x^i := [\xx]_\sE^i$, $p^i := [\pp]_\sE^i$ are the $i$th coordinates of $\xx$ and $\pp$ relative to the standard basis $\sE = \{\see_1, ..., \see_n\}$ for $\R^n$.
    
    Now we produce the vector $\vv_\pp$. We set $\vv_\pp = \sum_{i = 1}^n v_\pp(x^i) \see_i$, where here $x^i:\R^n \rightarrow \R$ denotes the $i$th coordinate function on $\R^n$. This choice of $\vv_\pp$ makes more sense in hindsight after reading Theorem \ref{ch::manifolds::thm::coords_tangent_vectors_cotangent_vectors}. (That theorem will logically depend on this result, though, so we must make this relatively unmotivated choice of $\vv_\pp$!)
    
    Apply $v_\pp$ to $f$ and use the second bullet point of the previous lemma to obtain
    
    \begin{align*}
        v_\pp(f) 
        = v_\pp\Big(\sum_{i,j = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp (x^i - p^i)\Big).
    \end{align*}

    (Notice that we are abusing notation slightly, since we are writing the argument of $v_\pp$ on the right side so that it appears to be the evaluation of a function at $\xx$ rather than the function itself. Thus, the $x^i$ on the right side still represents a coordinate function and not a real number).
    
    Since $v_\pp$ is a linear map and as $\pp \mapsto \frac{\pd f}{\pd x^i}\Big|_\pp$ is a constant function, we can ``pull out the constant'' that is $\frac{\pd f}{\pd x^i}\Big|_\pp$:
    
    \begin{align*}
        v_\pp\Big(\sum_{i,j = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp (x^i - p^i)\Big)
        = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp v_\pp(x^i - p^i)
        = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp (v_\pp(x^i) - v_\pp(p^i)).
    \end{align*}
    
    Using the first bullet point of the previous lemma one more time, we have
    
    \begin{align*}
        \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp (v_\pp(x^i) - v_\pp(p^i)) 
        = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp v_\pp(x^i)
        = (\nabla \FF)_\pp \cdot \vv_\pp
        = \frac{\pd f}{\pd \vv}\Big|_\pp.
    \end{align*}
    
    In all, we have $v_\pp(f) = \frac{\pd f}{\pd \vv}\Big|_\pp$. Thus $v_\pp = \frac{\pd}{\pd \vv}\Big|_\pp$, so the tangent vector $v_\pp$ is indeed a directional derivative function. 
\end{proof}

We now summarize the results we have discovered about $\R^n_\pp$, the vector space of directional derivative functions at $\pp$, and the vector space of derivations at $\pp$.

\begin{theorem}
    ($\R^n_\pp \cong \{ \text{directional derivative functions at $\pp$} \} = \{ \text{derivations at $\pp \in \R^n$} \}$).

    For any $\pp \in \R^n$, we have
    
    \begin{align*}
        \boxed
        {
            \R^n_\pp \overset{\vv_\pp \mapsto \frac{\pd}{\pd \vv}\Big|_\pp, \spc \vv \in \R^n}{\cong} \{ \text{directional derivative functions at $\pp$} \} = \{ \text{derivations at $\pp \in \R^n$} \}
        }
    \end{align*}
\end{theorem}

Thus, we see that we can identify elements of $\R^n_\pp$ with the coordinate-independent mathematical objects that are derivations at $\pp \in \R^n$. This motivates the following definition.

\begin{proof}
    This theorem combines the results of Theorem \ref{ch::manifolds::thm::geometric_tangent_vectors_iso_directional_derivative_functions} and Theorem \ref{ch::manifolds::thm::directional_derivs_same_as_derivs}
\end{proof}

\begin{defn}
    (Tangent space to $\R^n$ at a point).
    
    The set of derivations at $\pp \in \R^n$ is called the \textit{tangent space to $\R^n$ at $\pp$}, and is denoted $T_\pp(\R^n)$. An element of $T_\pp(\R^n)$ is called a \textit{tangent vector to $\R^n$ (at $\pp$)}.
\end{defn}

\begin{theorem}
\label{ch::manifolds::thm::basis_of_TpRn}
    \smallcite{book::SM}{54} (A basis of $T_\pp(\R^n)$).
    
    The directional derivative functions $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n = \Big\{ \frac{\pd}{\pd \see^i}\Big|_\pp \Big\}_{i = 1}^n$ form a basis for $T_\pp(\R^n)$.
\end{theorem}
    
\begin{proof}
     We proved this in the proof of Theorem \ref{ch::manifolds::thm::geometric_tangent_vectors_iso_directional_derivative_functions}.
\end{proof}

\newpage

\subsection*{Tangent vectors on manifolds}

Since the notion ``tangent vector to $\pp \in \R^n$'' does not rely upon coordinates, we can extend the notion to smooth manifolds.

\begin{defn}
    \smallcite{book::SM}{54} (Tangent space to a manifold at a point). 
    
    Let $M$ be a smooth $n$-manifold. A \textit{derivation at $\pp \in M$} is a linear function $v_\pp:C^\infty(M \rightarrow \R) \rightarrow \R$ that satisfies the following product rule:
    
    \begin{align*}
        v_\pp(fg) = v_\pp(f)g(\pp) + f(\pp)v_\pp(g) \text{ for all $f, g \in C^\infty(M \rightarrow \R)$}.
    \end{align*}
    
    The vector space over $\R$ of derivations at $\pp \in M$ is called the \textit{tangent space to $M$ at $\pp$}, and is denoted $T_\pp(M)$. An element of $T_\pp(M)$ is called a \textit{tangent vector to $M$ (at $\pp$)}.
\end{defn}

\begin{remark}
    (On interface vs. implementation; geometric interpretation of tangent vectors).

    A helpful perspective to remember is that the particular details what exactly a tangent vector $v_\pp \in T_\pp(M)$ is are just that- \textit{implementation} details. There are in fact other implementations; there are other definitions of $T_\pp(M)$, different from the ``linear derivation at $\pp$'' definition we gave, that establish vector spaces isomorphic to our $T_\pp(M)$!    
    
    When thinking intuitively about what a tangent vector \textit{is}, the \textit{interface} to the tangent vector notion that is the interpretation of elements of $v_\pp \in T_\pp(M)$ as an arrow anchored at $\pp$ is what's most relevant.
\end{remark}

\begin{theorem}
    \smallcite{book::SM}{54} (Properties of derivations at $\pp \in M$).
    
    Let $M$ be a smooth $n$-manifold, let $\pp \in \R^n$, $v_\pp \in T_\pp(\R^n)$ be a tangent vector at $\pp$, and $f, g \in C^\infty(\R^n \rightarrow \R)$. Then
    
    \begin{itemize}
        \item If $f$ is a constant function, then $v_\pp(f) = 0$.
        \item If $f(\pp) = g(\pp) = 0$, then $v_\pp(fg) = 0$.
    \end{itemize}
\end{theorem}
    
\begin{proof}
    The proof is analogous to the proof of Lemma \ref{ch::manifolds::lemma::properties_of_derivations_Rn}.
\end{proof}
    
\begin{defn}
\label{ch::manifolds::defn::basis_of_TpM}
    \smallcite{book:Warner}{14, 15} (Basis of $T_\pp(M)$ and its abuse of notation).
    
    Let $M$ be a smooth $n$-manifold, let $(U, \xx)$ be a smooth chart on $M$, and let $\pp \in M$. In an abuse of notation, we define $\frac{\pd}{\pd x^i}\Big|_\pp$ to be the derivations at $\pp \in U \subseteq M$ for which
    
    \begin{align*}
        \frac{\pd}{\pd x^i}\Big|_\pp(f) := \frac{\pd \tf_{(U, \xx)}}{\pd x^i}\Big|_{\xx(\pp)} = \frac{\pd (f \circ \xx^{-1})}{\pd x^i}\Big|_{\xx(\pp)}.
    \end{align*}
    
    (In the above, $\tf_{(U, \xx)}$ denotes the coordinate representation of $f$ relative to the chart $(U, \xx)$).
    
    The $\frac{\pd}{\pd x^i}\Big|_\pp$ to the left of $:=$ are what we are defining in our abuse of notation, and the $\frac{\pd}{\pd x^i}\Big|_{\xx(\pp)} = \frac{\pd}{\pd \see^i}\Big|_{\xx(\pp)}$ on the right side are directional derivatives taking in smooth functions on $\R^n$ as their arguments. 

    We also define the notation

    \begin{align*}
        \frac{\pd f}{\pd x^i} := \frac{\pd}{\pd x^i}\Big|_\pp(f) = \frac{\pd (f \circ \xx^{-1})}{\pd x^i}\Big|_{\xx(\pp)}.
    \end{align*}
\end{defn}

\begin{proof}
    \newcommand{\pdxiLS}{\underbrace{\frac{\pd}{\pd x^i}\Big|_\pp}_{\text{LS}}}

    We need to show (1) that the $\frac{\pd}{\pd x^i}\Big|_\pp$ of the left side of the above definition are derivations at $\pp \in M$ and (2) that $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n$ is a basis of $T_\pp(M)$.

    \begin{enumerate}
        \item We will put an ``LS'' under $\frac{\pd}{\pd x^i}\Big|_\pp$ when we mean $\frac{\pd}{\pd x^i}\Big|_\pp$ to be from the left side of the condition in the above definition. All other occurrences of $\frac{\pd}{\pd x^i}\Big|_\pp$ in this proof are partial derivatives, $\frac{\pd}{\pd x^i}\Big|_\pp = \frac{\pd}{\pd \see_i}\Big|_\pp$.
    
        We need to show that $\pdxiLS$ are linear and follow the product rule. Linearity follows easily from the linearity of the directional derivative with respect to its argument from $C^\infty(\R^n \rightarrow \R)$. We show the product rule holds:
        
        \begin{align*}
           \pdxiLS (fg)
            &= \frac{\pd (fg \circ \xx^{-1})}{\pd x^i}\Big|_{\xx(\pp)} 
            = \frac{\pd (fg)}{\pd x^i}\Big|_{\xx^{-1}(\xx(\pp))} \frac{\pd \xx^{-1}}{\pd x^i}\Big|_{\xx(\pp)}
            = \frac{\pd (fg)}{\pd x^i}\Big|_\pp \frac{\pd \xx^{-1}}{\pd x^i}\Big|_{\xx(\pp)}
            \\
            &= \Big( \frac{\pd f}{\pd x^i}\Big|_\pp g(\xx(\pp)) + f(\xx(\pp)) \frac{\pd g}{\pd x^i}\Big|_\pp \Big) \frac{\pd \xx^{-1}}{\pd x^i}\Big|_{\xx(\pp)} \\
            &= \frac{\pd f}{\pd x^i}\Big|_\pp \frac{\pd \xx^{-1}}{\pd x^i}\Big|_{\xx(\pp)} g(\xx(\pp))
            + f(\xx(\pp)) \frac{\pd g}{\pd x^i}\Big|_\pp \frac{\pd \xx^{-1}}{\pd x^i}\Big|_{\xx(\pp)}  \\
            &= \frac{\pd f}{\pd x^i}\Big|_{\xx^{-1}(\xx(\pp))} \frac{\pd \xx^{-1}}{\pd x^i}\Big|_{\xx(\pp)} g(\xx(\pp))
            + f(\xx(\pp)) \frac{\pd g}{\pd x^i}\Big|_{\xx^{-1}(\xx(\pp))} \frac{\pd \xx^{-1}}{\pd x^i}\Big|_{\xx(\pp)} \\
            &= \frac{\pd (f \circ \xx^{-1})}{\pd x^i}\Big|_{\xx(\pp)} g(\xx(\pp)) + f(\xx(\pp)) \frac{\pd (g \circ \xx^{-1})}{\pd x^i}\Big|_{\xx(\pp)}  \\
            &= \Big( \underbrace{\frac{\pd}{\pd x^i}\Big|_\pp}_{\text{LS}} \Big) (f) \spc g(\xx(\pp)) + f(\xx(\pp)) \spc \Big( \underbrace{\frac{\pd}{\pd x^i}\Big|_\pp}_{\text{LS}} \Big) (g).
        \end{align*}
        
        In the above, we used the chain and product rules and then reversed the product and chain rules.

        \item Now we show $\Big\{ \pdxiLS \Big\}_{i = 1}^n \subseteq T_\pp(M)$ is a basis of $T_\pp(M)$. Linear independence of this set follows from linear independence of $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n \subseteq T_\pp(\R^n)$. To show the set spans $T_\pp(M)$, consider $v_\pp \in T_\pp(M)$. Recall that $T_\pp(M)$ is a subset of functions $C^\infty(M \rightarrow \R) \rightarrow \R$, so $v_\pp$ is such a function; $v_\pp:C^\infty(M \rightarrow \R) \rightarrow \R$. The homeomorphism $\xx:M \rightarrow \R^n$ induces a $\widetilde{v}_{\xx(\pp)}:C^\infty(\R^n \rightarrow \R) \rightarrow \R$ defined by $\widetilde{v}_{\xx(\pp)}(\tf) = v_\pp(\tf \circ \xx)$. It's straightforward to check that $\widetilde{v}_{\xx(\pp)}$ is a derivation at $\xx(\pp) \in \R^n$, so $\widetilde{v}_{\xx(\pp)} \in T_\pp(\R^n)$. Since $\Big\{ \frac{\pd}{\pd x^i}\Big|_{\xx(\pp)} \Big\}_{i = 1}^n$ spans $T_{\xx(\pp)}(\R^n)$, we have $\widetilde{v}_{\xx(\pp)} = \sum_{i = 1}^n c^i \frac{\pd}{\pd x^i}\Big|_{\xx(\pp)}$ for some $c^i \in \R$. Evaluating both sides of this equation on $\tf \in C^\infty(\R^n \rightarrow \R)$ and recalling the definition of $\widetilde{v}_{\xx(\pp)}$, we have

        \begin{align*}
            \widetilde{v}_{\xx(\pp)}(\tf) = v_\pp(\tf \circ \xx) = \sum_{i = 1}^n c^i \frac{\pd \tf}{\pd x^i}\Big|_{\xx(\pp)}.
        \end{align*}
    
        Substitute $f := \tf \circ \xx^{-1}:M \rightarrow \R^n$ to obtain
    
        \begin{align*}
            v_\pp(f) = \sum_{i = 1}^n c^i \frac{\pd (f \circ \xx^{-1})}{\pd x^i}\Big|_{\xx(\pp)} = \sum_{i = 1}^n c^i \underbrace{\frac{\pd f}{\pd x^i}\Big|_\pp}_{\text{LS}}.
        \end{align*}
    
        Thus
    
        \begin{align*}
            v_\pp = \sum_{i = 1}^n c^i \pdxiLS,
        \end{align*}
        
        so $\Big\{ \pdxiLS \Big\}_{i = 1}^n$ spans $T_\pp(M)$.
    \end{enumerate} 
\end{proof}

\newpage

\section*{The differential}

Now that we have defined tangent vectors to a manifold, we can define a generalization of the directional derivative of a function $\R^n \rightarrow \R^m$: the \textit{differential of a function between smooth manifolds}.

\begin{defn}
\label{ch::manifolds::defn::differential_smooth_function_Rn_Rm}
    (Differential of a smooth function).
    
    Let $M$ and $N$ be smooth $n$- and $m$- manifolds and let $(U, \xx)$ and $(V, \yy)$ be smooth charts on $M$ and $N$. Consider a smooth function $\FF:U \subseteq M \rightarrow V \subseteq N$. We define the \textit{differential $d\FF_\pp:T_\pp(M) \rightarrow T_{\FF(\pp)}(N)$ of $\FF$ at $\pp \in U$} to be the function $T_\pp(M) \rightarrow T_{\FF(\pp)}(N)$ whose matrix relative to the bases $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n$ and $\Big\{ \frac{\pd}{\pd y^i}\Big|_{\FF(\pp)} \Big\}_{i = 1}^n$ for $T_\pp(M)$ and $T_{\FF(\pp)}(N)$ is the Jacobian matrix of the coordinate representation $\tFF_{(U, \xx), (V, \yy)}:\R^n \rightarrow \R^m$ of $\FF$: 

    \begin{empheq}[box = \fbox]{align*}
        \text{For all smooth charts $(U, \xx)$ and $(V, \yy)$ and all $\pp \in U$, the matrix of $d\FF_\pp$ is } \\
        \frac{\pd \tFF_{(U, \xx), (V, \yy)}}{\pd \xx}\Big|_\pp = \Big( \frac{\pd \tF_{(U, \xx), (V, \yy)}^i}{\pd x^j}\Big|_\pp \Big) \quad \quad \quad \quad \quad \quad \quad \quad
    \end{empheq}
\end{defn}

\begin{remark}
    (Is the differential well-defined?).

    It is not obvious that $d\FF_\pp$ is the unique function that satisfies the above definition. Fortunately, we will be able to conclude this after the following derivation and theorem.
\end{remark}

\begin{deriv}
    (Coordinate-free formula for the differential).

    Assume the hypotheses of the previous definition. To determine a coordinate-free\footnote{By ``coordinate-free'', we mean ``independent of a choice of bases for $T_\pp(M)$ and $T_\pp(N)$''.} formula for $d\FF_\pp$, we will consider how $d\FF_\pp$ acts on a basis tangent vector $\frac{\pd}{\pd x^i}\Big|_\pp$ and extend whatever result we get with the linearity of $d\FF_\pp$. 
    
    Recalling from Theorem \ref{ch::lin_alg::thm::change_of_basis_with_basis_vectors} that if $\ff:V \rightarrow W$ is a linear function between finite-dimensional vector spaces with bases $E = \{\ee_1, ..., \ee_n\}$ and $F = \{\ff_1, ..., \ff_n\}$, then we have $\ff(\ee_i) = \sum_{j = 1}^n ([\ff(E)]_F)_{ji} \ff_j$, we see
    
    \begin{align*}
        d\FF_\pp \Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big) 
        = 
        \sum_{j = 1}^m a^j_i \frac{\pd}{\pd y^j}\Big|_{\FF(\pp)},
    \end{align*}
    
    where $a^i_j$ is the $^i_j$ entry of the matrix of $d\FF_\pp$ relative to the bases $\Big\{ \frac{\pd}{\pd x^i} \Big|_\pp \Big\}$ and $\Big\{ \frac{\pd}{\pd y^i} \Big|_{\FF(\pp)} \Big\}$. Since we imposed $a^i_j = \frac{\pd \tF_{(U, \xx), (V, \yy)}^i}{\pd x^j}\Big|_\pp$, then
    
    \begin{align*}
       d\FF_\pp \Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big) = 
       \sum_{j = 1}^m a^j_i \frac{\pd}{\pd y^j}\Big|_{\FF(\pp)} =
       \sum_{j = 1}^m \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp \frac{\pd}{\pd y^j}\Big|_{\FF(\pp)}.
    \end{align*}
    
    So far, we have shown 
    
    \begin{align*}
        d\FF_\pp \Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big) = \sum_{j = 1}^m \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp \frac{\pd}{\pd y^j}\Big|_{\FF(\pp)}.
    \end{align*}
    
    At the beginning, we claimed that $d\FF_\pp:\TT_p(M) \rightarrow \TT_{\FF(\pp)}(N)$; that is, we claimed that $d\FF_\pp$ would map a tangent vector, which is a derivation at a point, to another tangent vector. To determine exactly what derivation we get by computing $d\FF_\pp \Big( \frac{\pd}{\pd x^i} \Big)$, we must apply this new derivation to a smooth function $f \in C^\infty(V \subseteq N \rightarrow \R)$:
    
    \begin{align*}
        d\FF_\pp \Big( \frac{\pd}{\pd x^i} \Big)(f)
        &= 
        \Big( \sum_{j = 1}^m \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp \frac{\pd}{\pd y^j}\Big|_{\FF(\pp)} \Big) (f) 
        = 
        \sum_{j = 1}^m \Big[ \Big( \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp \frac{\pd}{\pd y^j}\Big|_{\FF(\pp)}\Big)(f) \Big] \\
        &= 
        \sum_{j = 1}^m \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp \frac{\pd f}{\pd y^j}\Big|_{\FF(\pp)}
        =
        \sum_{j = 1}^m \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp \frac{\pd \tf_{(V, \yy)}}{\pd y^j}\Big|_{\FF(\pp)}.
    \end{align*}

    In this last equation, since $\frac{\pd}{\pd x^i}\Big|_\pp$ and $\frac{\pd}{\pd y^i}\Big|_{\FF(\pp)}$ are operating on functions $\R^n \rightarrow \R^m$, they are the usual partial derivatives $\frac{\pd}{\pd x^i}\Big|_\pp = \frac{\pd}{\pd \see_i}\Big|_\pp$ and $\frac{\pd}{\pd y^i}\Big|_{\FF(\pp)} = \frac{\pd}{\pd \see_i}\Big|_{\FF(\pp)}$ (recall Definition \ref{ch::manifolds::defn::basis_of_TpM}). So, we can apply the chain rule:

    \begin{align*}
        \sum_{j = 1}^m \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp \frac{\pd \tf_{(V, \yy)}}{\pd y^j}\Big|_{\FF(\pp)} =
        \sum_{j = 1}^m \frac{\pd \tf_{(V, \yy)}}{\pd y^j}\Big|_{\FF(\pp)} \frac{\pd \tF_{(U, \xx), (V, \yy)}^j}{\pd x^i}\Big|_\pp =
        \frac{\pd}{\pd x^i}\Big|_\pp (\tf_{(V, \yy)} \circ \tFF_{(U, \xx), (V, \yy)}).
    \end{align*}
    
    The above shows
    
    \begin{align*}
        d\FF_\pp \Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big)(f) = \frac{\pd}{\pd x^i}\Big|_\pp (\tf_{(V, \yy)} \circ \tFF_{(U, \xx), (V, \yy)}).
    \end{align*}

    We have $\tf_{(V, \yy)} \circ \tFF = (f \circ \yy^{-1}) \circ (\yy \circ \FF \circ \xx^{-1}) = f \circ \FF \circ \xx^{-1} = (f \circ \FF)_{(U, \xx)}$, so 

    \begin{align*}
        d\FF_\pp \Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big)(f) = \frac{\pd}{\pd x^i}\Big|_\pp ((f \circ \FF)_{(U, \xx)}) = \frac{\pd}{\pd x^i}\Big|_\pp(f \circ \FF).
    \end{align*}

    In all,

    \begin{align*}
        d\FF_\pp \Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big)(f) = \frac{\pd}{\pd x^i}\Big|_\pp(f \circ \FF).
    \end{align*}

    (This last $\frac{\pd}{\pd x^i}\Big|_\pp$ is no longer one of the usual partial derivatives $\frac{\pd}{\pd \see^i}\Big|_\pp$; recall from Definition \ref{ch::manifolds::defn::basis_of_TpM}) that it is defined by $\frac{\pd}{\pd x^i}\Big|_\pp(g) = \frac{\pd \widetilde{g}_{(U, \xx)}}{\pd x^i}\Big|_\pp$).
    
    Since $d\FF_\pp$ is linear and $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}$ is a basis for $T_\pp(\R^n)$, the above condition extends to any $v_\pp \in T_\pp(M)$:
    
    \begin{align*}
        d\FF_\pp (v_\pp )(f) = v_\pp (f \circ \FF).
    \end{align*}
\end{deriv}

This characterization of the differential is coordinate-free, and therefore provides an easy way to define the differential without mentioning any smooth charts. We do this in the next definition. 

\begin{theorem}
\label{ch::manifolds::thm::differential_smooth_function_abstract}
    (Formula for the differential of a smooth function).
    
    Let $M$ and $N$ be smooth $n$- and $m$- dimensional manifolds, and let $\pp \in M$. The differential ${d\FF_\pp:T_\pp(M) \rightarrow T_{\FF(\pp)}(N)}$ satisfies

    \begin{empheq}[box = \fbox]{align*}
        d\FF_\pp(v_\pp)(f) = v_\pp(f \circ \FF) \text{ for all $v_\pp \in T_\pp(M)$ and $f \in C^\infty(N \rightarrow \R)$}
    \end{empheq}
\end{theorem}

\begin{theorem}
    (The differential is well-defined).

    The function $f \mapsto v_\pp(f \circ \FF)$ is obviously well-defined for all $\pp \in M$, so the function $v_\pp \mapsto d\FF_\pp(v_\pp)$ is well-defined for all $v_\pp \in T_\pp(M)$. Since $dF_\pp(v_\pp)$ is well defined for all $v_\pp \in T_\pp(M)$, then the function $d\FF_\pp$, which sends $v_\pp \mapsto dF_\pp(v_\pp)$, is well-defined.
\end{theorem}

\begin{theorem}
    \smallcite{book::SM}{55} (Properties of differentials). Let $M, N$, and $P$ be smooth manifolds, let $\FF:M \rightarrow N$ and $\GG:N \rightarrow P$ be smooth functions, and let $\pp \in M$. We have the following:
    
    \begin{itemize}
        \item (Chain rule). $d(\GG \circ \FF)_\pp = d\GG_{\FF(\pp)} \circ d\FF_\pp:T_\pp(M) \rightarrow T_{(\GG \circ \FF)(\pp)}(P)$.
        \item (Differential of the identity). $d(\II_M)_\pp = \II_M$, where $\II_M:T_\pp(M) \rightarrow T_\pp(M)$ is the identity on $M$.
        \item (Inverse differential). If $\FF$ is a diffeomorphism, then $d\FF_\pp:T_\pp(M) \rightarrow T_{\FF(\pp)}(N)$ is a linear isomorphism, and $(d\FF_\pp)^{-1} = d(\FF^{-1})_{\FF(\pp)}$.
    \end{itemize}
\end{theorem}

\begin{proof}
    See \cite{book::SM} for the proof.
\end{proof}

\begin{theorem}
\label{ch::manifolds::thm::differential_smooth_map_M_R}
    \smallcite{book::SM}{281} (Differential of a smooth function $M \rightarrow \R$).
    
    What happens when we take the differential of a smooth function $f:M \rightarrow \R$? Well, by definition of the differential of a smooth function $M \rightarrow N$, we have
    
    \begin{align*}
        df_\pp(v_\pp)(g) = v_\pp(g \circ f).
    \end{align*}
    
    We have $df_\pp:T_\pp(M) \rightarrow T_{f(\pp)}(\R)$. Notice that since $T_{f(\pp)}(\R)$ is $1$-dimensional, then $T_{f(\pp)}(\R) \cong \R$. There is therefore an induced function $\td f_\pp:T_\pp(M) \rightarrow \R$ for which the following diagram commutes:
    
    \begin{center}
        % https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRABUB9AHW7TQAUAWQCUIAL6l0mXPkIoATOSq1GLNl2AAzAb34jxu7gCUxk6djwEiShSvrNWiEL2MSVMKAHN4RUFoAnCABbJDIQHAgkAEZqBjoAIxgGAAUZK3kQBhgtHBBqB3VnGh4+NAACXmC6NDhI8qgtUv4BEr00MykQQJCY6kikJVVHNgB3Su5q2vreOCZgzmAscoBecujxAD0wctGBAA9NrBEJuBgYTiwJLp7QxHCBxCH4pNT0uTYArC8ACzyCtROFzcUZYWB4BiwYCNZpocTucRAA
        \begin{tikzcd}
        T_\pp(M) \arrow[rr, "v_\pp \mapsto df_\pp(v_\pp)"] \arrow[rrdd, "\td f_\pp"'] &  & T_{f(\pp)}(\R) \arrow[dd, "\Big( w = \sum_{i = 1}^1 w(x^i) \see_i \Big) \mapsto w(x^1)"] \\
                                                                                               &  &                                                                     \\
                                                                                               &  & \R                                                                 
        \end{tikzcd}
    \end{center}
    
    We think of $\td$ as the differential that is induced by the identification $T_{f(\pp)}(\R) \cong \R$.
    
    From the diagram, we see that the map $\td f_\pp:T_\pp(M) \rightarrow \R$ acts on a tangent vector $v_\pp \in T_\pp(M)$ by
    
    \begin{align*}
        \td f_\pp(v_\pp)
        = df_\pp (v_\pp)(x^1)
        = v_\pp(x^1 \circ f).
    \end{align*}
    
    Since $\R^1$ is one-dimensional, then $\R^1 \cong \R$. As we switch from $\R^1$ to $\R$, the coordinate function $x^1:\R^1 \rightarrow \R^1$ becomes the identity on $\R$. This final identification \footnote{To be very formal, we could write the above as $\widetilde{\widetilde{d}} f_\pp(v_\pp)$ to indicate that $\widetilde{\widetilde{d}}$ is the differential obtained from $\td$ by identifying $\R^1 \cong \R$, but this identification is so trivial that we do not do this.} gives
    
    \begin{align*}
        \td f_\pp(v_\pp) = v_\pp(f).
    \end{align*}
    
    In practice, we write $df_\pp:T_\pp(M) \rightarrow \R$ to mean $\td f_\pp:T_\pp(M) \rightarrow \R$. So, the above characterizing condition of the differential of $f:M \rightarrow \R$ \textit{that is induced by the identification $T_{f(\pp)}(\R) \cong \R$} is restated as
    
    \begin{align*}
        \boxed
        {
            df_\pp(v_\pp) = v_\pp(f)
        }
    \end{align*}
\end{theorem}

\begin{theorem}
\label{ch::manifolds::thm::differential_smooth_function_coords}
    \smallcite{book::SM}{281} (Differential of a smooth function $M \rightarrow \R$ in a smooth chart).

    Let $M$ be a smooth $n$-manifold and let $(U, \xx)$ be a smooth chart on $M$. The differential of a smooth function $f:M \rightarrow \R$ obtained by identifying $T_{f(\pp)}(\R) \cong \R$ (see the previous theorem) is given by
    
    \begin{empheq}[box = \fbox]{align*}
        df_\pp &= \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp dx^i_\pp \text{ for all $\pp \in U$}
    \end{empheq}
    
    Recall from Definition \ref{ch::manifolds::defn::basis_of_TpM} that in the above, $\frac{\pd f}{\pd x^i}\Big|_\pp$ means $\frac{\pd \tf_{(U, \xx)}}{\pd \see^i}\Big|_\pp$.
\end{theorem}

\begin{proof}
    Notice that $(\vv \mapsto df_\pp(\vv)) = df_\pp$ is an element of $T_\pp(M)^*$. (We will explore this fact more later, in Section \ref{ch::manifolds::tangent_cotangent_with_coords}). Since $T_\pp(M)$ is an $n$-dimensional vector space, then $T_\pp(M)^*$ is also $n$-dimensional, and we can express $df_\pp$ as
    
    \begin{align*}
        df_\pp = \sum_{i = 1}^n C_i(\pp) \lambda^i_\pp
    \end{align*}
    
    where each $C_i:U \rightarrow \R$ is a smooth function and $\lambda^i \in T_\pp(M)^*$.
    
    To determine the $C_i$, recall that Theorem \ref{ch::bilinear_forms_metric_tensors::thm::coords_vector_dual_vector} stated that if $V$ is a finite-dimensional vector space, $E = \{\ee_1, ..., \ee_n\}$ is a basis for $V$, and $E^* = \{\phi^{\ee_1}, ..., \phi^{\ee_n}\}$ is the basis for $V^*$ induced by $E$, then for any $\phi \in V^*$, we have $([\phi]_{E^*})_i = \phi(\ee_i)$. Applying this theorem and using $df_\pp(v_\pp) = v_\pp(f)$, we have
    
    \begin{align*}
        C_i(\pp) = df_\pp\Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big) = \Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big) (f) = \frac{\pd f}{\pd x^i}\Big|_\pp.
    \end{align*}
    
    Thus $df_\pp$ is
    
    \begin{align*}
        df_\pp = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp \lambda^i_\pp.
    \end{align*}
    
    It remains to determine the $\lambda^i_\pp$. To do so, consider the above and substitute the coordinate function $x^i:U \rightarrow \R$ in for $f$. We have
    
    \begin{align*}
        dx^i_\pp = \sum_{j = 1}^n \frac{\pd x^i}{\pd x^j}\Big|_\pp \lambda|_\pp^j = \sum_{j = 1}^n \frac{\pd}{\pd \see^j}(x^i \circ \xx^{-1}) \Big|_\pp \lambda|_\pp^j = \sum_{j = 1}^n \frac{\pd \widetilde{x}^i}{\pd \see^j}\Big|_\pp \lambda^j|_\pp,
    \end{align*}

    where $\widetilde{x}^i:\R^n \rightarrow \R$ is the $i$th coordinate function on $\R^n$. Since $\frac{\pd \widetilde{x}^i}{\pd \see^j}\Big|_\pp = \delta^i{}_j$, the sum simplifies to $\lambda^i_\pp$, and we get $dx^i_\pp = \lambda^i_\pp$.
\end{proof}

\begin{remark}
    (Differential of a smooth function $\R^n \rightarrow \R$ is the directional derivative).

    When $M = \R^n$, we can use the first line in the boxed equation of the previous theorem to compute
    
    \begin{align*}
        df_\pp = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp dx^i_\pp.
    \end{align*}
    
    Since $M = \R^n$, then $df_\pp:T_\pp(\R^n) \rightarrow \R$. Notice that we have $T_\pp(\R^n) \cong \R^n_\pp$ because $T_\pp(\R^n)$ and $\R^n_\pp$ are both $n$-dimensional, so we get from $df_\pp:T_\pp(\R^n) \rightarrow \R$ another induced function $\td f_\pp:\R^n_\pp \rightarrow \R$, where $\td$ is thought of as the ``induced differential''. Above, we see that our original $df_\pp$ is a linear combination of $dx^i_\pp \in T_\pp(M)$. Thus, $\td f_\pp$ is a linear combination of $\td x^i|_\pp \in T_\pp(\R^n)$ with the same weights:
    
    \begin{align*}
        \td f_\pp = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp \td x^i
    \end{align*}
    
    In the proof of the previous theorem, we saw that $dx^i_\pp$ is the $i$th coordinate function on $T_\pp(M)$. Since $T_\pp(\R^n) \cong \R^n_\pp$, and since $dx^i_\pp$ is the $i$th coordinate function on $T_\pp(M)$, it follows\footnote{Let $V_1, V_2$, $W$ be finite-dimensional vector spaces and suppose $\gg:V_1 \rightarrow W$ is a linear isomorphism. Then the matrix of a linear function $\ff:V_1 \rightarrow W$ relative to a basis $E$ of $V_1$ is the same as the matrix of the induced function $(\widetilde{\ff} = \ff \circ \gg^{-1}):V_2 \rightarrow W$ relative to the basis $\gg(E)$ of $V_2$: the two matrices are $\ff(E)$ and $(\ff \circ \gg^{-1})(\gg(E))$, respectively. We are in the situation $V_1 = T_\pp(\R^n)$, $V_2 = \R^n_\pp$, $W = \R$, $\ff = dx^i_\pp$, $E = \{ (\pd/\pd x^i)_\pp \}_{i = 1}^n$, $(\pd/\pd x^i)_\pp \overset{\gg}{\mapsto} \see^i_\pp$.} that $\td x^i_\pp$ must be the $i$th coordinate function on $\R^n_\pp$. This implies that $\td f_\pp$ acts on $\vv_\pp \in \R^n_\pp$ by
    
    \begin{align*}
        \td f_\pp(\vv_\pp) 
        = \sum_{i = 1}^n \frac{\pd f}{\pd x^i} \td x^i(\vv_\pp)
        = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp [\vv_\pp]_\sE^i 
        = (\nabla_\xx f)|_\pp \cdot \vv_\pp = \frac{\pd f}{\pd \vv}\Big|_\pp,
    \end{align*}
    
    where $\frac{\pd f}{\pd \vv}\Big|_\pp$ is the directional derivative of $f$ at $\pp$ in the direction of $\vv$. 
    
    This is to be expected because we defined the differential of a smooth function of smooth manifolds (see Definition \ref{ch::manifolds::defn::differential_smooth_function_Rn_Rm}) so that its coordinate representation is represented by the Jacobian relative to the coordinate bases. (Here, the row-matrix of partial derivatives is the Jacobian matrix of $f$. Recall from Definition \ref{ch::calc::defn::jacobian} that the Jacobian is used to express the directional derivative of a smooth function $\R^n \rightarrow \R^m$. In this case we have $m = 1$).
\end{remark}

\newpage 

\section{Cotangent vectors}
\label{ch::manifolds::tangent_cotangent_with_coords}

\begin{remark}
    (Intuition for differentials).

    Let $M$ be an smooth $n$-manifold, let $(U, \xx)$ be a smooth chart on $M$, and let $\pp \in U$. When we proved Theorem \ref{ch::manifolds::thm::differential_smooth_function_coords}, we quickly applied the fact that we can compute the $i$th coordinate of $v_\pp$ relative to the basis $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}$ for $T_\pp(M)$ as 

    \begin{align*}
        [v_\pp]_{\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n}^i = dx^i_\pp(v_\pp).
    \end{align*}

    Let us think about this fact for a second. Recall that in calculus, the expression ``$dx^i$'' is thought of as an infinitesimal displacement in the $\see_i$ direction. On manifolds, we think of tangent vectors- elements of $T_\pp(M)$- as representing the infinitesimal displacements; a tangent vector at $\pp$ is thought of as an infinitesimal displacement originating at $\pp$. The differential $dx^i_\pp$ then formalizes the idea of an infinitesimal displacement in the direction of the $i$th basis tangent vector, since, according to the above, applying $dx^i_\pp$ to a tangent vector $v_\pp \in T_\pp(M)$ gives the component of that tangent vector in the direction of the $i$th basis tangent vector.
\end{remark}

\begin{deriv}
    (Cotangent space).

    Let $M$ be a smooth manifold, consider a smooth chart $(U, \xx)$ on $M$, and let $\pp \in U$. What set do the differentials $dx^i_\pp$ reside in? Well, $dx^i_\pp:T_\pp(M) \rightarrow \R$, so $dx^i_\pp \in T_\pp(M)^*$.
    
    Additionally, notice that since applying $dx^i_\pp$ to $v_\pp$ yields the $i$th coordinate of $v_\pp$ in the $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n$ basis, the set $\{dx^i_\pp\}_{i = 1}^n$ must\footnote{If two functions send $v_\pp$ to its $i$th coordinate, then, since these functions are linear, they have the same matrix and are thus the same function. The functions that are $dx^i_\pp$ and the $i$th dual basis vector for $T_\pp(M)^*$ are the same for this reason.} be the dual basis for $T_\pp(M)^*$ that is induced by the basis $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n$ for $T_\pp(M)$.

    The set $T_\pp(M)^*$ is called the \textit{cotangent space to $M$ at $\pp$}. We denote it by $T_\pp^*(M)$ for convenience.
\end{deriv}

\section{Coordinates of tangent and cotangent vectors}

\begin{theorem}
\label{ch::manifolds::thm::induced_bases_in_a_chart}
    (Induced bases in a chart).
    
    Let $M$ be a smooth $n$-manifold and let $(U, \xx)$ be a smooth chart on $M$ about $\pp \in M$. Consider the set $C^\infty(U \subseteq M \rightarrow \R)$ of smooth real-valued functions defined on $U \subseteq M$ as a vector space over $\R$. It is a helpful \textit{mnemonic} to pretend that $\{x^i|_\pp\}_{i = 1}^n$ is a basis for $C^\infty(U \subseteq M \rightarrow \R)$, where $x^i$ is the $i$th coordinate function of $\xx$, and where we've denoted $x^i|_\pp := x^i(\pp)$. (\textit{When interpreted even with a little common sense, the mnemonic is clearly nonsensical}, because $C^\infty(U \subseteq M \rightarrow \R)$ is an infinite-dimensional vector space, so $\{x^i|_\pp\}_{i = 1}^n$, which is a finite set, cannot be a basis for it). This is because, if we accept this \textit{mnemonic}, then
    
    \begin{enumerate}
        \item The dual basis for $T_\pp(M) = C^\infty(U \subseteq M \rightarrow \R)^*$ induced by $\{x^i\}_{i = 1}^n$ is $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}$.
        \item The dual basis for $T_\pp^*(M) = T_\pp(M)^* = C^\infty(U \subseteq M \rightarrow \R)^{**}$ induced by $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}$ is $dx^i_\pp$, where $x^i$ is the $i$th coordinate function of $\xx$, and where the $d$ here is \textit{not} obtained by identifying $T_\pp(\R^n) \cong \R$, but by ``leaving $T_\pp(\R^n)$ alone'' (recall Theorem \ref{ch::manifolds::thm::differential_smooth_map_M_R} to see happens to $d$ when we identify $T_{f(\pp)}(\R) \cong \R$).
    \end{enumerate}
\end{theorem}

\begin{proof}
    Recall from the proof of Theorem \ref{ch::manifolds::thm::differential_smooth_map_M_R} that when using the notation $\frac{\pd}{\pd x^j}\Big|_\pp := \frac{\pd (\cdot \circ \xx^{-1})}{\pd \see^j}\Big|_\pp$, we have $\frac{\pd x^i}{\pd x^j}\Big|_\pp = \delta^i{}_j$.
    
    \begin{enumerate}
        \item We have $\Big(\frac{\pd}{\pd x^i}\Big|_\pp\Big)(x^j) = \frac{\pd x^i}{\pd x^j}\Big|_\pp = \delta^i{}_j$.
        \item We know $df_\pp(v_\pp) = v_\pp(f)$ from Theorem \ref{ch::manifolds::thm::differential_smooth_map_M_R} so $dx^i_\pp\Big(\frac{\pd}{\pd x^j}\Big|_\pp\Big) = \frac{\pd x^i}{\pd x^j}\Big|_\pp = \delta^i{}_j$. 
    \end{enumerate}
\end{proof}

If we continue to accept the mnemnoic of the previous theorem, we obtain the following theorem, which describes how to compute the coordinates of tangent vectors and cotangent vectors as a simple consequence of linear algebra.

\begin{theorem}
\label{ch::manifolds::thm::coords_tangent_vectors_cotangent_vectors}
    (Coordinates of tangent vectors and cotangent vectors).
    
    Theorem \ref{ch::bilinear_forms_metric_tensors::thm::coords_vector_dual_vector} stated that if $V$ is a finite-dimensional vector space over $K$, $E = \{\ee_1, ..., \ee_n\}$ is a basis for $V$, and $E^* = \{\phi^{\ee_1}, ..., \phi^{\ee_n}\}$ is the basis for $V^*$ induced by $E$, then

    \begin{align*}
        ([\vv]_E)^i &= \phi^{\ee_i}(\vv) = \phi_\vv(\Phi_{\ee_i}) \\
        ([\phi]_{E^*})_i &= \phi(\ee_i),
    \end{align*}
    
    where $\Phi_\vv \in V^{**}$ is the linear function $V^* \rightarrow K$ defined by $\Phi_\vv(\phi) = \phi(\vv)$.
    
    We can apply this theorem to the pairs of bases and induced dual bases from the last theorem. Let $M$ be a smooth $n$-manifold and let $(U, \xx)$ be a smooth chart on $M$ about $\pp \in M$. Then the $i$th coordinate of a tangent vector $v_\pp \in T_\pp(M)$ relative to $\Big\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n$ and the $i$th coordinate of a tangent covector $\phi_\pp \in T_\pp^*(M)$ are 
    
    \begin{empheq}[box = \fbox]{align*}
        ([v_\pp]_{\Big\{\frac{\pd}{\pd x^j}\Big|_\pp \Big\}_{j = 1}^n})^i &= v_\pp(x^i) = \phi_{x^i}(v_\pp) \\
        ([\phi_\pp]_{\Big\{dx^j|_\pp \Big\}_{j = 1}^n})_i &= \phi_\pp\Big( \frac{\pd}{\pd x^i}\Big|_\pp \Big)
    \end{empheq}
    
    In the second equation of the first line, $\phi_{x^i}$ is the element of $C^\infty(U \subseteq M \rightarrow \R)^{**} = T_\pp^*(M)$ that is identified with the $i$th coordinate function $x^i \in C^\infty(U \subseteq M \rightarrow \R)$ of $\xx$. Recall Theorem \ref{ch::motivated_intro::thm::V_iso_double_dual} to see that $\phi_f:C^\infty(U \subseteq M \rightarrow \R)^* = T_\pp(M) \rightarrow \R$, where $f \in C^\infty(U \subseteq M \rightarrow \R)$, is defined by $\phi_f(v_\pp) = v_\pp(f)$.
    
    The second equation of the first line is not of much practical use, but it helps formalize the precise way in which $x^i|_\pp$ and $dx^i_\pp$ are ``the same'': $dx^i_\pp = (\phi_{x^i})|_\pp$.
\end{theorem}

\begin{remark}
    (Covariance and contravariance with tangent vectors and tangent covectors).
    
    Recall the convention of ``covariance and contravariance'' from Definition \ref{ch::motivated_intro::defn::covariance_contravariance}. The first half of this convention stipulates that the coordinates of a covector are to be indexed by lower subscripts, while covectors themselves are to be are indexed by upper subscripts. The second half states that the coordinates of a vector (which is ``contravariant'') are to be indexed by lower subscripts, while vectors themselves are to be indexed by lower subscripts.
    
    We now call attention to the fact that our uses of upper and lower indices for a basis coordinate function $x^i$, a basis tangent vector $\frac{\pd}{\pd x^i}\Big|_\pp$, and a basis cotangent vector $dx^i_\pp$ can be retroactively interpreted as obeying these conventions. 
    
    We can argue that an upper index is used in $x^i$ because $x^i$ is a coordinate of a smooth chart $\xx:U \rightarrow \R^k$, which is ``close enough'' to a vector, since its output is $\R^k$. (This argument ignores the fact that the primary vectors of interest when studying manifolds are tangent vectors, not elements of $\R^k$).
    
    As for the notation $\frac{\pd}{\pd x^i}\Big|_\pp$, we would somehow like to be able to interpret $i$ as being a lower index, since $\frac{\pd}{\pd x^i}\Big|_\pp$ is a tangent vector, which is contravariant. Our justification will be that even though $i$ is typographically an upper index, $i$ appears in the denominator, so it is ``low''.
    
    With $dx^i_\pp$, all is well and good- an upper index is used on a tangent covector- so no retroactive argument is necessary. 
\end{remark}

\begin{remark}
    (Uses of the notation $x^i$).
    
    Let $M$ be a smooth $n$-manifold, and consider a smooth chart $(U, \xx)$ about $\pp \in M$. You have likely noticed that the collection of symbols ``$x^i$'' appears in notation in various ways. A summary of all the ways $x^i$ is used is as follows. When $x^i$ appears in a ``numerator'' (e.g. $\frac{\pd x^i}{\pd x^j}$), as an argument of a differential (e.g. $dx^i$), or ``by itself'' (e.g. $x^i$), then $x^i$ is the $i$th coordinate function of $\xx$. When $x^i$ appears in a ``denominator'', it is because that ``denominator'' is part of the basis vector $\frac{\pd}{\pd x^i}\Big|_\pp$ of $T_\pp(M)$.
\end{remark}

\begin{theorem}
    \smallcite{book::SM}{64} (Change of coordinates for tangent vectors in terms of basis vectors of $T_\pp(M)$).

    Theorem \ref{ch::lin_alg::thm::change_of_basis_with_basis_vectors} stated that if $V$ is a finite-dimensional vector space with bases $E$ and $F$, then

    \begin{align*}
        \ff_i = \sum_{j = 1}^n ([\ff_i]_E)_j \ee_j = \sum_{j = 1}^n ([\FF]_E)_{ji} \ee_j.
    \end{align*}

    Let $M$ be a smooth $n$-manifold, and consider smooth charts $(U, \xx)$ and $(V, \yy)$, where $\pp \in U \cap V$. Let $x^i$ and $y^i$ denote the $i$th coordinate functions of $\xx$ and $\yy$, respectively. Applying the above theorem to the vector space $T_\pp(M)$ and its bases $E = \Big\{\frac{\pd}{\pd x^j}\Big|_\pp \Big\}_{j = 1}^n$ and $F = \Big\{\frac{\pd}{\pd y^j}\Big|_\pp \Big\}_{j = 1}^n$, we have
    
    \begin{align*}
        [\FF]_E
        = \begin{pmatrix} \Big[\frac{\pd}{\pd y^1}\Big|_\pp\Big]_E & \hdots & \Big[\frac{\pd}{\pd y^n}\Big|_\pp\Big]_E \end{pmatrix}
        =
        \begin{pmatrix}
            \begin{pmatrix}
                \frac{\pd}{\pd y^1}\Big|_\pp(x^1) \\ \vdots \\ \frac{\pd}{\pd y^1}\Big|_\pp(x^n)
            \end{pmatrix}
            &
            \hdots
            &
            \begin{pmatrix}
                \frac{\pd}{\pd y^n}\Big|_\pp(x^1) \\ \vdots \\ \frac{\pd}{\pd y^n}\Big|_\pp(x^n)
            \end{pmatrix}
        \end{pmatrix}
        =
        \begin{pmatrix}
            \frac{\pd x^1}{\pd y^1}\Big|_\pp & \hdots & \frac{\pd x^1}{\pd y^n}\Big|_\pp \\
            \vdots & & \vdots \\
            \frac{\pd x^n}{\pd y^1}\Big|_\pp & \hdots & \frac{\pd x^n}{\pd y^n}\Big|_\pp
        \end{pmatrix}.
        \end{align*}
    
    Don't forget that $\frac{\pd x^i}{\pd y^j}\Big|_\pp = \frac{\pd (x^i \circ \yy^{-1})}{\pd y^j}\Big|_\pp$, where $y^i$ is the $i$th coordinate function of $\yy$.
    
    Applying the fact $\ff_i = \sum_{j = 1}^n ([\FF]_E)_{ji} \ee_j$ from above, we have
    
    \begin{align*}
        \frac{\pd}{\pd y^i}\Big|_\pp
        =
        \sum_{j = 1}^n \frac{\pd x^j}{\pd y^i}\Big|_\pp \frac{\pd}{\pd x^j}\Big|_\pp
    \end{align*}
    
    (If you are careful to remember that $\frac{\pd}{\pd y^i}\Big|_\pp = \frac{\pd (\cdot \circ \yy^{-1})}{\pd y^i}$, then you can prove the above just by using the chain rule). 

    [... obtain result for general $v_\pp \in T_\pp(M)$ ...]
\end{theorem}

\section{Vector fields and covector fields}

\subsection*{The tangent, cotangent, and tensor bundles}

\begin{defn}
    \smallcite{book::SM}{65} (Tangent bundle).
    
    Let $M$ be a smooth $n$-manifold. The \textit{tangent bundle} of $M$ is the set $T(M) := \bigsqcup_{\pp \in M} T_\pp(M)$, where $\bigsqcup$ denotes a disjoint\footnote{Note that a disjoint union is \textit{not} a ``pairwise disjoint union''. We say $A = \bigsqcup_\alpha A_\alpha$ iff $A = \bigsqcup_\alpha A_\alpha$ and $\cap_\alpha A_\alpha = \emptyset$.} union.
\end{defn}

\begin{theorem}
    \smallcite{book::SM}{66} (The tangent bundle is a smooth $2n$-manifold).
    
    For any smooth $n$-manifold $M$; the tangent bundle $T(M)$ has a natural topology and smooth structure that make it into a $2n$-dimensional smooth manifold.
\end{theorem}

\begin{proof}
    Here's a rough idea of the proof. Consider the special case of $M = \R^n$:
        
    \begin{align*}
        T(\R^n) = \bigsqcup_{\pp \in \R^n} T_\pp(\R^n) \cong \bigsqcup_{\pp \in \R^n} \R^n_\pp = \bigsqcup_{\pp \in \R^n} ( \R^n \times \{\pp\}) = \R^n \times \R^n.
    \end{align*}
\end{proof}

\begin{defn}
    \smallcite{book::SM}{276} (Cotangent bundle).
    
    Let $M$ be a smooth $n$-manifold. The \textit{cotangent bundle} of $M$ is the set $T^*(M) := \bigsqcup_{\pp \in M} T_\pp^*(M)$, where $\bigsqcup$ again denotes a disjoint union. Just as was the case with the tangent bundle, the cotangent bundle has a natural topology and smooth structure that make it into a $2n$-dimensional smooth manifold.
\end{defn}

\begin{defn}
    \smallcite{book::SM}{316, 317} (Tensor bundle).
    
    Let $M$ be a smooth $n$-manifold. The \textit{$(p, q)$ tensor bundle} of $M$ is the set $T_{p, q}(T(M)) := \bigsqcup_{\pp \in M} T_{p, q}(T_\pp(M))$. The tensor bundle has a natural topology and smooth structure that make it into a smooth manifold.
\end{defn}

\begin{remark}
    \smallcite{book::SM}{316, 317} (Tangent bundle and cotangent bundle special cases of the tensor bundle).
    
    We have $T^p_0(T(M)) = \bigsqcup_{\pp \in M} (T_\pp(M))^{\otimes p}$ and $T^0_q(T(M)) = \bigsqcup_{\pp \in M} (T_\pp^*(M))^{\otimes p}$. So in particular, $T^1_0(T(M)) = T(M)$, $T^0_1(T(M)) = T^*(M)$.
    
    %What about $T^0_0(M)$?
\end{remark}

\begin{defn}
    \smallcite{book::SM}{174, 276, 316, 317} (Vector fields, covector fields, and $(p, q)$ tensor fields).
    
    Let $M$ be a smooth $n$-manifold and let $A \subseteq M$. A \textit{vector field on $A$} is a continuous function $A \subseteq M \rightarrow T(M)$, a \textit{covector field on $A$} is a continuous function $A \subseteq M \rightarrow T^*(M)$, and a \textit{$(p, q)$ tensor field on $A$} is a continuous function $A \subseteq M \rightarrow T_{p, q}(T(M))$. \textit{Smooth vector fields}, \textit{smooth covector fields}, and \textit{smooth tensor fields} are smooth such functions.
\end{defn}

\subsection*{Frames and coframes}

\begin{defn}
    \smallcite{book::SM}{178, 278} (Frames and coframes).
    
    Let $M$ be a smooth $n$-manifold and let $(U, \xx)$ be a smooth chart on $M$.
    
    A \textit{local frame on $(U, \xx)$} is a set $\{\EE_1, ..., \EE_n\}$ of vector fields on $U$, where, at each $\pp \in U \subseteq M$, the $\EE_i$'s are linearly independent and span $T_\pp(M)$. A local frame $\{\EE_1, ..., \EE_n\}$ is a \textit{smooth frame} iff each $\EE_i$ is smooth, and is a \textit{global frame} iff $U = M$. A local frame is essentially a ``basis'' of vector fields.
    
    A \textit{local coframe on $(U, \xx)$} is a set of covector fields $\{\EEE^1, ..., \EEE^n\}$ on $U$, where, at each $\pp \in U \subseteq M$, the $\EEE^i$'s are linearly independent and span $T_\pp^*(M)$. A local coframe $\{\EE_1, ..., \EE_n\}$ is a \textit{smooth coframe} iff each $\EE^i$ is smooth, and is a \textit{global coframe} iff $U = M$. A local coframe is essentially a ``basis'' of covector fields.
\end{defn}

\begin{defn}
    \smallcite{book::SM}{176, 278} (Coordinate vector fields and coordinate covector fields).
    
    Let $M$ be a smooth $n$-manifold and let  $(U, \xx)$ be a smooth chart on $M$.
    
    The smooth\footnote{The $i$th coordinate vector field is smooth because its component functions are constants.} vector field defined by $\pp \mapsto \frac{\pd}{\pd x^i}\Big|_\pp$ is denoted (in an abuse of notation) by $\frac{\pd}{\pd x^i}$ and is called the \textit{$i$th local coordinate vector field (on $(U, \xx)$)}. 
    
    Recall that $\{ dx^i_\pp \}_{i = 1}^n$ is the dual basis of $T_\pp^*(M)$ induced by the basis $\{ \frac{\pd}{\pd x^i}\Big|_\pp \Big\}_{i = 1}^n$ for $T_\pp(M)$. The smooth\footnote{The $i$th coordiante covector field is smooth because its component functions are constants.} covector field defined by $\pp \mapsto dx^i_\pp$ is denoted (in an abuse of notation) by $dx^i$ and is called the \textit{$i$th local coordinate covector field (on $(U, \xx)$)}.
\end{defn}

\begin{defn}
\label{ch::manifolds::defn::coordinate_frames_coframes}
    \smallcite{book::SM}{178, 278} (Coordinate frames and coordinate coframes).
    
    Let $M$ be a smooth manifold and let $(U, \xx)$ be a smooth chart on $M$.
    
    The smooth\footnote{The local coordinate frame is smooth because the $i$th local coordinate vector field is smooth.} local frame $\{\frac{\pd}{\pd x^1}, ..., \frac{\pd}{\pd x^n} \}$, where $\frac{\pd}{\pd x^i}$ denotes the $i$th local coordinate vector field, is called a \textit{local coordinate frame (on $(U, \xx)$)}.
    
    The smooth\footnote{It can be shown that the local coordinate coframe is smooth because it is \textit{dual} to the local coordinate frame, in the sense of the next definition.} coframe $\{dx_1, ..., dx_n\}$, where $dx_i$ denotes the $i$th local coordinate covector field, is called the \textit{local coordinate coframe (on $(U, \xx)$)}.
\end{defn}

\begin{defn}
    \smallcite{book::SM}{278} (Duality of frames and coframes).

    Let $M$ be a smooth $n$-manifold and let $(U, \xx)$ be a smooth chart on $M$.
    
    A local frame $\{\EE_1, ..., \EE_n\}$ on $(U, \xx)$ and local coframe $\{\EEE^1, ..., \EEE^n\}$ on $(U, \xx)$ are said to be \textit{dual} to each other iff, at each $\pp \in U$, the basis $\{\EEE^1|_\pp, ..., \EEE^n|_\pp\}$ is the dual basis induced for $T_\pp^*(M)$ induced by the basis $\{\EE_1|_\pp, ..., \EE_n|_\pp\}$ for $T_\pp(M)$. 
    
    As an example, $\frac{\pd}{\pd x^i}$ and $dx^i$ are dual to each other.
\end{defn}

\subsection*{Ratio of differentials}

At this point we are able to formalize the idea of taking the ratio of differentials- one of the most fundamental intuitions of single-variable calculus.

\newcommand{\tfUxPrime}{\tilde{f}_{(U, \xx)}\phantom{'}'}
\newcommand{\tfPrime}{\tilde{f}\phantom{'}'}

\begin{lemma}
    (When $M$ is one-dimensional, the differential becomes the single-variable derivative).

    Let $M$ be a smooth one-dimensional manifold and let $(U, x)$ be a smooth chart on $M$. If ${f:M \rightarrow \R}$ is a smooth function, then for every $\pp \in M$ the cotangent space $T_\pp^*(M)$ is one-dimensional, so $df_\pp = \sum_{i = 1}^1 \frac{\pd f}{\pd x^i}\Big|_\pp dx^i_\pp = \tfUxPrime(x(\pp))    dx_\pp$ can be identified with the scalar $\tfUxPrime(x(\pp)) \in \R$. In other words, the induced differential $\td$ under these identifications is $\td = D(\cdot \circ x^{-1})$.
\end{lemma}

\begin{theorem}
    (Ratio of differentials).

    \textbf{Just noticed that $\frac{\pd f}{\pd x^i} = \frac{\pd \tf}{\pd \see_i}$ in the above and thus $\td = D(\cdot \circ \xx^{-1})$. The below proof assumes $\td = D$.]}

    Let $M$ be a smooth one-dimensional manifold, let $(U, x)$ be a smooth chart on $M$, and suppose we have a smooth function $f:U \rightarrow \R$. Consider the coordinate representation $\tf_{(U, x)} = f \circ x^{-1}:\R \rightarrow \R$, denoted as $\tf := \tf_{(U, x)}$ for brevity. Using $d$ to denote $\td = D$, since $f = \tf \circ x$ we have $df_\pp = d\tf_{x(\pp)} dx_\pp$ for every $\pp \in U$. 
    
    Then, since $T_\pp^*(M)$ is one-dimensional for every $\pp \in M$, we can divide by $dx_\pp$:
    
    \begin{align*}
        \frac{df_\pp}{dx_\pp} = \frac{d\tf_{x(\pp)} dx_\pp}{dx_\pp} = d\tf_{x(\pp)} = D\tf_{x(\pp)} = \tfPrime(x(\pp)) \text{ for all $\pp \in U$}.
    \end{align*}
    
    Thus $\frac{df}{dx}\Big|_\pp = (\tfPrime \circ x)(\pp)$ for every $\pp \in U$. Using more suggestive notation for function composition, we have
    
    \begin{align*}
        \frac{df}{dx} = \tfPrime(x).
    \end{align*}
\end{theorem}

\begin{lemma}
    [TO-DO. Supposedly it's possible to obtain the same result when $M$ is a manifold of arbitrary dimension. The claim is that the chain rule $d(g \circ f)_\pp = dg_{f(\pp)} df_\pp$ holds when $f:M \rightarrow \R$ and $g:\R \rightarrow \R$]

    Let $M$ be a smooth $n$-manifold and let $(U, \xx)$ be a smooth chart on $M$. Consider a smooth function $f:M \rightarrow \R$, and define $\tf := \tf_{(U, \xx)}$ for brevity. For all $\pp \in U$, we have
    
    \begin{align*}
        d(g \circ f)_\pp &= \sum_{i = 1}^n \frac{\pd(g \circ f)}{\pd x^i}\Big|_\pp dx^i_\pp = \sum_{i = 1}^n \frac{\pd(g \circ f \circ \xx^{-1})}{\pd \see^i}\Big|_\pp dx^i_\pp = \sum_{i = 1}^n \frac{\pd(g \circ \tf)}{\pd \see^i}\Big|_\pp dx^i_\pp = \sum_{i = 1}^n \frac{\pd g}{\pd \see^i}\Big|_{\tf(\pp)} \frac{\pd \tf}{\pd \see_i}\Big|_\pp dx^i_\pp \\
        &= ..\text{this might not actually work}.. = \Big(\sum_{i = 1}^n \frac{\pd g}{\pd \see^i}\Big|_{\tf(\pp)} dx^i_{f(\pp)} \Big) \Big(\sum_{j = 1}^n \frac{\pd \tf}{\pd \see^j}\Big|_\pp dx^j_\pp \Big) = dg_{\tf(\pp)} d\tf_\pp. 
    \end{align*}

    
\end{lemma}


%\subsection*{Vector fields and covector fields in coordinates}

%The following theorems generalize the results of the subsection ``Tangent vectors and tangent covectors with coordinates''.

%\begin{theorem}
%\label{ch::manifolds::thm::coords_frames_coframes}
%    (Coordinates of frames and coframes).
    
%    Basically slightly generalize ``coordinates of tangent vectors and dual vectors''
    
%    ``The components of a covector field $\phi$ at $\pp$ relative to $\{\lambda_1, ..., \lambda_n\}$ are the covector fields $([\phi]_{\{\lambda_1, ..., \lambda_n\}})_i$ defined by $([\phi]_{\{\lambda_1, ..., \lambda_n\}})_i|_\pp = \phi_\pp\Big(\frac{\pd}{\pd x^i}\Big|_\pp\Big)$ \smallcite{book::SM}{277}''
%\end{theorem}

%\begin{theorem}
%\label{ch::manifolds::thm::change_coords_coord_frames}
%    (Change of coordinates for frames in terms of coordinate frames).
    
%    is ``in terms of coordinate frames'' correct?
    
%    \begin{align*}
%        \frac{\pd}{\pd y^i} = \sum_{j = 1}^n \frac{\pd x^j}{\pd y^i} \frac{\pd}{\pd x^j}
%    \end{align*}
    
%    \smallcite{book::SM}{275}

%\end{theorem}

%\begin{theorem}
%    (Differential of a function $U \subseteq M \rightarrow \R$ after identifying $T_{\ff(\pp)}(\R) \cong \R$).
    
%    Recall thm which says $df_\pp = \sum_{i = 1}^n \frac{\pd f}{\pd x^i}\Big|_\pp dx^i_\pp$. This implies
    
%    \begin{align*}
%        \boxed
%        {
%            df = \sum_{i = 1}^n \frac{\pd f}{\pd x^i} dx^i
%        }
%    \end{align*}
    
%    where $d$ is the differential after identifying $T_{f(\pp)}(\R^n) \cong \R^n$.
    
%    Given a smooth chart $(U, \xx)$ on $M$, the differential of a smooth function $f:M \rightarrow \R$ is a smooth covector field. \smallcite{book::SM}{281}. 
%\end{theorem}

\newpage

\section{Oriented manifolds and their oriented boundaries}

In Section \ref{ch::exterior_pwrs::section::orientation}, we defined what it means to orient a finite-dimensional vector space. The key result we motivated was Definition \ref{ch::exterior_pwrs::defn::orientation_finite_dim_vector_space}, which said: if a basis $E$ of a finite-dimensional vector space $V$ is fixed, than another ordered basis $F$ of $V$ is said to be \textit{positively oriented (relative to $E$)} iff $\det([\FF]_E) > 0$ and \textit{negatively oriented (relative to $E$)} otherwise. Given this definition, we showed in Theorem \ref{ch::exterior_pwrs::defn::orientation_with_top_degree_wedges} that choosing an element of $\Lambda^{\dim(V)}(V)$ determines an orientation on $V$. We now extend the idea of orientation to manifolds.

\begin{defn}
    \smallcite{book::SM}{380} (Oriented manifolds).
    
    Let $M$ be an $n$-manifold. We define the notion of orientation on $M$ in the following steps:
    
    \begin{itemize}
        \item Since a choice of element of the top exterior power of a finite-dimensional vector space determines an orientation for that vector space, we define a \textit{pointwise orientation form} for $M$ to be any nonvanishing differential $n$-form on $M$ that is an element of $\tOmega^n(M)$. Such a differential form is an element of $\tLambda^k(T_\pp(M)) \cong \Lambda^k(T_\pp(M))$ at each $\pp \in M$, and therefore determines an orientation on each tangent space.
        \item If $\omega$ is a pointwise orientation form on $M$ and $\{\EE_1, ..., \EE_n\}$ is a local frame for the tangent bundle $T(M)$, then we say that $\{\EE_1, ..., \EE_n\}$ is \textit{positively oriented} iff $\{\EE_1|_\pp, ..., \EE_n|_\pp\}$ is positively oriented relative to $\omega$ at each $\pp \in M$, that $\{\EE_1, ..., \EE_n\}$ is \textit{negatively oriented} iff $\{\EE_1|_\pp, ..., \EE_n|_\pp\}$ is negatively oriented relative to $\omega$ at each $\pp \in M$.
        \item A pointwise orientation form $\omega$ for $M$ is said to be \textit{continuous} iff every point of $M$ is in the domain of an oriented local frame, where the orientation of the oriented local frame is given by $\omega$.
        \item An \textit{orientation form} for $M$ is a continuous pointwise orientation form for $M$. We say $M$ is \textit{orientable}, or that $M$ is an \textit{oriented manifold}, iff there exists an orientation form for $M$.
    \end{itemize}
\end{defn}

\begin{defn}
\label{ch::manifolds::defn::orientation_smooth_chart}
    \smallcite{book::SM}{381, 382} (Orientation of a smooth chart on an oriented manifold).
    
    A smooth chart $(U, \xx)$ on an oriented smooth $n$-manifold is said to be \textit{positively oriented} iff the coordiante frame $\{\frac{\pd}{\pd x^i}\}_{i = 1}^n$ is positively oriented, and is said to be \textit{negatively oriented} otherwise.
\end{defn}

\subsection*{Boundary orientation}

We now present the natural way in which the boundary of a manifold inherits orientation from the rest of the manifold.

\begin{lemma}
    If $M$ is an $n$-manifold, then the boundary $\pd M$ is an $(n - 1)$-manifold. %\textbf{??}
\end{lemma}

To describe the inherited orientation on a boundary, we need to define what it means for tangent vectors to be ``inward-pointing'' or ``outward-pointing''.

\begin{defn}
    \smallcite{book::SM}{118} (Inward- and outward- pointing tangent vectors).
    
    Let $M$ be a smooth $n$-dimensional manifold and let $(U, \xx)$ be a smooth chart on $\pd M$ with $\pp \in U$. We classify tangent vectors in $T_\pp(M)$ as follows.
    
    \begin{itemize}
        \item A tangent vector is \textit{inward-pointing (on $\pd M$)} iff it has a positive $x^n$ component.
        \item A tangent vector is \textit{tangent to $\pd M$} iff it has an $x^n$ component of zero.
        \item A tangent vector is \textit{outward-pointing (on $\pd M$) iff it has negative $x^n$ component}, i.e., $\vv \in T_\pp(M)$ is outward-pointing iff $-\vv$ is inward-pointing.
    \end{itemize}
\end{defn}

%\begin{example}
%    (Inward- and outward- pointing tangent vectors).
    
%    Consider the unit disk $D$ in $\R^2$, and pick a point $\pp$ on $\pd D$. Any vector thought of as anchored at $\pp$ is either in $T_\pp(D)$, which is a line, or in one of the two half-spaces resulting from the splitting of $\R^2$ by the line $T_\pp(\pd D)$. Both halves of $\R^2$ are homeomorhpic to half planes. One of these half planes contains $D - \{\pp\}$ and the other one does not, so it makes sense to call vectors in the first half-plane ``inward-pointing'' and vectors in the second half-plane ``outward-pointing''.
%\end{example}

\begin{lemma}
    \smallcite{book::SM}{200, problem 8-4} (Existence of inward- and outward-pointing vector fields on $M$).
    
    There exists a global smooth vector field on $M$ whose restriction to $\pd M$ is everywhere inward-pointing, and one whose restriction to $\pd M$ is everywhere outward-pointing.
\end{lemma}

Now we can describe the induced orientation on the boundary.

\begin{theorem}
\label{ch::manifolds::induced_orientation_form_on_bdy}
    \smallcite{book::SM}{385, 386} (Induced orientation form on the boundary).

    Let $\omega_M$ be an orientation form on $M$. The previous lemma shows that there exists a vector field $\NN$ nowhere tangent to $\partial M$. Thus, there is an induced orientation form $\omega_{\pd M}$ on the boundary (due to interior multiplication\footnote{We could have put $\NN_\pp$ in any of $\omega_M$'s $n$ argument slots, but we chose to use the first. This choice corresponds to the operation called \textit{interior multiplication}, which you can read about in \cite{book::SM}. See p. 358 and Corollary 14.21 on p. 362.}) defined by $\omega_{\pd M}(v_1|_\pp, ..., v_{n - 1}|_\pp) = \omega_M(\NN_\pp, v_1|_\pp, ..., v_{n - 1}|_\pp)$. The orientation on $\pd M$ induced by $\omega_{\pd M}$ does not depend on the vector field $\NN$ that is nowhere tangent to $\partial M$. 
\end{theorem}

\begin{proof}
    We need to show (1) that $\omega_{\pd M}$ is indeed an orientation form on $\partial M$ and (2) that the orientation induced by $\omega_{\pd M}$ is independent of the choice of the nowhere tangent vector field $\NN$.
        
    \begin{enumerate}
        \item We need to show that $\omega_{\pd M}$ never vanishes. Note that if $\{e_1|_\pp, ..., e_{n - 1}|_\pp\}$ is a basis for $T_\pp(\pd M)$, then, since $\NN$ is nowhere tangent to $T_\pp(\pd M)$, the set $\{\NN_\pp, e_1|_\pp, ..., e_{n - 1}|_\pp\}$ is a basis for $T_\pp(M)$. Because of this, and as $\omega_M$ is nonvanishing on $M$, then $\omega_{\pd M}$ is also nonvanishing. See \cite[p. 385]{book::SM} for the more precise details.
    
        \item Let $\NN$ and $\NN'$ be two vector fields that are both nowhere tangent to $\pd M$. We need to show that the ordered bases $E = \{\NN_\pp, v_1|_\pp, ..., v_{n - 1}|_\pp\}$ and $F = \{\NN'|_\pp, v_1|_\pp, ..., v_{n - 1}|_\pp\}$ have the same orientation. To do so, we prove that the determinant of the change of basis matrix between the two ordered bases is positive.
            
        $\NN$ and $\NN'$ are both outward-pointing, so the $n$th component of $\NN_\pp$ relative to $E$ and the $n$th component of $\NN'|_\pp$ relative to $F$ are both negative; denote these $n$th components by $(\NN_\pp)_n$ and $(\NN'|_\pp)_n$, respectively. Relative to the bases $E$, $F$, the change of basis matrix between $E$ and $F$ has a first column whose only nonzero entry is the $n$th entry, which is $\frac{(\NN'|_\pp)_n}{(\NN_\pp)_n}$. For $i > 1$, the $i$th column of the change of basis matrix is $\see_i$. The change of basis matrix is therefore upper triangular, so its determinant is the product of the diagonal entries, i.e., the determinant is $\frac{(\NN'|_\pp)_n}{(\NN_\pp)_n} > 0$. \textbf{this doesn't make any sense; fix it}
    \end{enumerate}
\end{proof}

\subsubsection*{Orientation of the boundary of a $k$-parallelapiped}

As $k$-paralellapiped can be be given the structure of an oriented smooth submanifold of $\R^n$ with corners. 

\begin{defn}
    (Notation for $n$-parallelapipeds).
    
    Let $M$ be a smooth $n$-manifold and let $(U, \xx)$ be a smooth chart on $M$. Given ${v_1|_\pp, ..., v_n|_\pp \in T_\pp(M)}$, we define $P_\pp(v_1, ..., v_n)$ to be the $n$-parallelapiped anchored at $\xx(\pp) \in \R^n_\pp$ that is spanned by ${\xx(v_1|_\pp), ..., \xx(v_n|_\pp) \in \R^n_\pp}$.  \textbf{should $d\xx(v_i|_\pp)$ be used here instead of $\xx(v_1)|_\pp$?} Additionally, if $v \in T_\pp(M)$ is identified with $\vv \in \R^n_\pp$ under the isomorphism ${\frac{\pd}{\pd x^i}\Big|_\pp \mapsto \see_i}$, we will use the slight abuse of notation $P_{\pp + v}(v_1, ..., v_n)$ to denote the $n$-parallelapiped anchored at $\xx(\pp) + \vv \in \R^n_\pp$ that is spanned by $\xx(v_1|_\pp), ..., \xx(v_n|_\pp) \in \R^n_\pp$.
\end{defn}

\begin{theorem}
\label{ch::manifolds::thm::oriented_bdy_parallelapiped}

    \smallcite{book::Hubbard}{542 - 544} (Oriented boundary of an $n$-parallelapiped).
    
    Let $M$ be an $n$-manifold, let $\pp \in M$, and consider vectors $v_1|_\pp, ..., v_n|_\pp \in T_\pp(M)$. Let $P_\pp(v_1, ..., v_n)$ denote the $n$-parallelapiped anchored at $\pp$ that is spanned by $v_1|_\pp, ..., v_n|_\pp$. The orientation of the boundary $\pd P_\pp(v_1, ..., v_n)$ is given by 
    
    \begin{align*}
        \boxed
        {
            \pd P_\pp(v_1, ..., v_n) = \sum_{i = 1}^k (-1)^{i - 1} \Big( P_{\pp + v_i|_\pp}(v_1, ..., \cancel{v_i}, ..., v_n) - P_{\pp}(v_1, ..., \cancel{v_i}, ..., v_n) \Big)
        }
    \end{align*}
    
    In the sum, $+$ and $-$ signs are used to indicate whether a $n$-parallelapiped is positively or negatively oriented relative to the orientation of $P_\pp(v_1, ..., v_n)$.
\end{theorem}

\begin{proof}
    Since $P_\pp(v_1, ..., v_n)$ is an $n$-parallelapiped, then $\pd P_\pp(v_1, ..., v_n)$ is a $2n$-parallelapiped. Each face of $\pd P_\pp(v_1, ..., v_n)$ is of the form $P_{\pp + \vv_i|_\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$ or $P_{\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$. We show that the faces of the form $P_{\pp + \vv_i|_\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$ have the same orientation as $P_\pp(v_1, ..., v_n)$, and that the faces of the form $P_{\pp + \vv_i|_\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$ have the opposite orientation as does $P_\pp(v_1, ..., v_n)$.
    
    Let the orientation on $P_\pp(v_1, ..., v_n)$ be given by an orientation form $\omega_P$. By Theorem \ref{ch::manifolds::induced_orientation_form_on_bdy}, the induced orientation form $\omega_{\pd P}$ on the boundary is defined by $\omega_{\pd P} = \omega_P(v_i|_\pp, v_1|_\pp, ..., \cancel{v_i|_\pp}, ..., v_n|_\pp)$. Since $v_i|_\pp$ is outward-pointing on the face $P_{\pp + \vv_i|_\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$, the orientation of $P_{\pp + \vv_i|_\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$ is the same as the orientation of $P_\pp(v_1, ..., v_n)$. Conversely, $v_i|_\pp$ is inward-pointing on the face $P_{\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$, so the orientation of $P_{\pp}(v_1, ..., \cancel{v_i}, ..., v_n)$ is same as the orientation given by $\omega_P(-v_i|_\pp, v_1|_\pp, ..., \cancel{v_i|_\pp}, ..., v_n|_\pp) = -\omega_{\pd P}$.
\end{proof}
